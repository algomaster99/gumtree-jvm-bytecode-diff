{"diffoscope-json-version": 1, "source1": "first/FTPListParseEngine.class", "source2": "second/FTPListParseEngine.class", "unified_diff": null, "details": [{"source1": "procyon -ec {}", "source2": "procyon -ec {}", "unified_diff": "@@ -17,14 +17,18 @@\n {\n     private List<String> entries;\n     private ListIterator<String> internalIterator;\n     private final FTPFileEntryParser parser;\n     private final boolean saveUnparseableEntries;\n     private static final FTPFile[] EMPTY_FTP_FILE_ARRAY;\n     \n+    static {\n+        EMPTY_FTP_FILE_ARRAY = new FTPFile[0];\n+    }\n+    \n     public FTPListParseEngine(final FTPFileEntryParser parser) {\n         this(parser, null);\n     }\n     \n     FTPListParseEngine(final FTPFileEntryParser parser, final FTPClientConfig configuration) {\n         this.entries = new LinkedList<String>();\n         this.internalIterator = this.entries.listIterator();\n@@ -41,17 +45,38 @@\n         this.entries = new LinkedList<String>();\n         this.read(inputStream, charsetName);\n         this.parser.preParse((List)this.entries);\n         this.resetIterator();\n     }\n     \n     private void read(final InputStream inputStream, final String charsetName) throws IOException {\n-        try (final BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream, Charsets.toCharset(charsetName)))) {\n-            for (String line = this.parser.readNextEntry(reader); line != null; line = this.parser.readNextEntry(reader)) {\n-                this.entries.add(line);\n+        Throwable t = null;\n+        try {\n+            final BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream, Charsets.toCharset(charsetName)));\n+            try {\n+                for (String line = this.parser.readNextEntry(reader); line != null; line = this.parser.readNextEntry(reader)) {\n+                    this.entries.add(line);\n+                }\n+            }\n+            finally {\n+                if (reader != null) {\n+                    reader.close();\n+                }\n+            }\n+        }\n+        finally {\n+            if (t == null) {\n+                final Throwable exception;\n+                t = exception;\n+            }\n+            else {\n+                final Throwable exception;\n+                if (t != exception) {\n+                    t.addSuppressed(exception);\n+                }\n             }\n         }\n     }\n     \n     public FTPFile[] getNext(final int quantityRequested) {\n         final List<FTPFile> tmpResults = new LinkedList<FTPFile>();\n         for (int count = quantityRequested; count > 0 && this.internalIterator.hasNext(); --count) {\n@@ -108,12 +133,8 @@\n         this.internalIterator = this.entries.listIterator();\n     }\n     \n     @Deprecated\n     public void readServerList(final InputStream inputStream) throws IOException {\n         this.readServerList(inputStream, null);\n     }\n-    \n-    static {\n-        EMPTY_FTP_FILE_ARRAY = new FTPFile[0];\n-    }\n }\n"}]}
