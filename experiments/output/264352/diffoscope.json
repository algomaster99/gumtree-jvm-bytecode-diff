{"diffoscope-json-version": 1, "source1": "first/Module.class", "source2": "second/Module.class", "unified_diff": null, "details": [{"source1": "procyon -ec {}", "source2": "procyon -ec {}", "unified_diff": "@@ -13,48 +13,48 @@\n     private ModuleRequires[] requiresTable;\n     private ModuleExports[] exportsTable;\n     private ModuleOpens[] opensTable;\n     private final int usesCount;\n     private final int[] usesIndex;\n     private ModuleProvides[] providesTable;\n     \n-    Module(final int name_index, final int length, final DataInput input, final ConstantPool constant_pool) throws IOException {\n-        super((byte)22, name_index, length, constant_pool);\n-        this.moduleNameIndex = input.readUnsignedShort();\n-        this.moduleFlags = input.readUnsignedShort();\n-        this.moduleVersionIndex = input.readUnsignedShort();\n-        final int requires_count = input.readUnsignedShort();\n-        this.requiresTable = new ModuleRequires[requires_count];\n-        for (int i = 0; i < requires_count; ++i) {\n-            this.requiresTable[i] = new ModuleRequires(input);\n-        }\n-        final int exports_count = input.readUnsignedShort();\n-        this.exportsTable = new ModuleExports[exports_count];\n-        for (int j = 0; j < exports_count; ++j) {\n-            this.exportsTable[j] = new ModuleExports(input);\n-        }\n-        final int opens_count = input.readUnsignedShort();\n-        this.opensTable = new ModuleOpens[opens_count];\n-        for (int k = 0; k < opens_count; ++k) {\n-            this.opensTable[k] = new ModuleOpens(input);\n+    Module(final int n, final int n2, final DataInput dataInput, final ConstantPool constantPool) throws IOException {\n+        super((byte)22, n, n2, constantPool);\n+        this.moduleNameIndex = dataInput.readUnsignedShort();\n+        this.moduleFlags = dataInput.readUnsignedShort();\n+        this.moduleVersionIndex = dataInput.readUnsignedShort();\n+        final int unsignedShort = dataInput.readUnsignedShort();\n+        this.requiresTable = new ModuleRequires[unsignedShort];\n+        for (int i = 0; i < unsignedShort; ++i) {\n+            this.requiresTable[i] = new ModuleRequires(dataInput);\n+        }\n+        final int unsignedShort2 = dataInput.readUnsignedShort();\n+        this.exportsTable = new ModuleExports[unsignedShort2];\n+        for (int j = 0; j < unsignedShort2; ++j) {\n+            this.exportsTable[j] = new ModuleExports(dataInput);\n+        }\n+        final int unsignedShort3 = dataInput.readUnsignedShort();\n+        this.opensTable = new ModuleOpens[unsignedShort3];\n+        for (int k = 0; k < unsignedShort3; ++k) {\n+            this.opensTable[k] = new ModuleOpens(dataInput);\n         }\n-        this.usesCount = input.readUnsignedShort();\n+        this.usesCount = dataInput.readUnsignedShort();\n         this.usesIndex = new int[this.usesCount];\n-        for (int k = 0; k < this.usesCount; ++k) {\n-            this.usesIndex[k] = input.readUnsignedShort();\n+        for (int l = 0; l < this.usesCount; ++l) {\n+            this.usesIndex[l] = dataInput.readUnsignedShort();\n         }\n-        final int provides_count = input.readUnsignedShort();\n-        this.providesTable = new ModuleProvides[provides_count];\n-        for (int l = 0; l < provides_count; ++l) {\n-            this.providesTable[l] = new ModuleProvides(input);\n+        final int unsignedShort4 = dataInput.readUnsignedShort();\n+        this.providesTable = new ModuleProvides[unsignedShort4];\n+        for (int n3 = 0; n3 < unsignedShort4; ++n3) {\n+            this.providesTable[n3] = new ModuleProvides(dataInput);\n         }\n     }\n     \n-    public void accept(final Visitor v) {\n-        v.visitModule(this);\n+    public void accept(final Visitor visitor) {\n+        visitor.visitModule(this);\n     }\n     \n     public ModuleRequires[] getRequiresTable() {\n         return this.requiresTable;\n     }\n     \n     public ModuleExports[] getExportsTable() {\n@@ -65,88 +65,96 @@\n         return this.opensTable;\n     }\n     \n     public ModuleProvides[] getProvidesTable() {\n         return this.providesTable;\n     }\n     \n-    public void dump(final DataOutputStream file) throws IOException {\n-        super.dump(file);\n-        file.writeShort(this.moduleNameIndex);\n-        file.writeShort(this.moduleFlags);\n-        file.writeShort(this.moduleVersionIndex);\n-        file.writeShort(this.requiresTable.length);\n-        for (final ModuleRequires entry : this.requiresTable) {\n-            entry.dump(file);\n-        }\n-        file.writeShort(this.exportsTable.length);\n-        for (final ModuleExports entry2 : this.exportsTable) {\n-            entry2.dump(file);\n-        }\n-        file.writeShort(this.opensTable.length);\n-        for (final ModuleOpens entry3 : this.opensTable) {\n-            entry3.dump(file);\n-        }\n-        file.writeShort(this.usesIndex.length);\n-        for (final int entry4 : this.usesIndex) {\n-            file.writeShort(entry4);\n-        }\n-        file.writeShort(this.providesTable.length);\n-        for (final ModuleProvides entry5 : this.providesTable) {\n-            entry5.dump(file);\n+    public void dump(final DataOutputStream dataOutputStream) throws IOException {\n+        super.dump(dataOutputStream);\n+        dataOutputStream.writeShort(this.moduleNameIndex);\n+        dataOutputStream.writeShort(this.moduleFlags);\n+        dataOutputStream.writeShort(this.moduleVersionIndex);\n+        dataOutputStream.writeShort(this.requiresTable.length);\n+        final ModuleRequires[] requiresTable = this.requiresTable;\n+        for (int length = requiresTable.length, i = 0; i < length; ++i) {\n+            requiresTable[i].dump(dataOutputStream);\n+        }\n+        dataOutputStream.writeShort(this.exportsTable.length);\n+        final ModuleExports[] exportsTable = this.exportsTable;\n+        for (int length2 = exportsTable.length, j = 0; j < length2; ++j) {\n+            exportsTable[j].dump(dataOutputStream);\n+        }\n+        dataOutputStream.writeShort(this.opensTable.length);\n+        final ModuleOpens[] opensTable = this.opensTable;\n+        for (int length3 = opensTable.length, k = 0; k < length3; ++k) {\n+            opensTable[k].dump(dataOutputStream);\n+        }\n+        dataOutputStream.writeShort(this.usesIndex.length);\n+        final int[] usesIndex = this.usesIndex;\n+        for (int length4 = usesIndex.length, l = 0; l < length4; ++l) {\n+            dataOutputStream.writeShort(usesIndex[l]);\n+        }\n+        dataOutputStream.writeShort(this.providesTable.length);\n+        final ModuleProvides[] providesTable = this.providesTable;\n+        for (int length5 = providesTable.length, n = 0; n < length5; ++n) {\n+            providesTable[n].dump(dataOutputStream);\n         }\n     }\n     \n     public String toString() {\n-        final ConstantPool cp = super.getConstantPool();\n-        final StringBuilder buf = new StringBuilder();\n-        buf.append(\"Module:\\n\");\n-        buf.append(\"  name:    \").append(cp.getConstantString(this.moduleNameIndex, (byte)19).replace('/', '.')).append(\"\\n\");\n-        buf.append(\"  flags:   \").append(String.format(\"%04x\", Integer.valueOf(this.moduleFlags))).append(\"\\n\");\n-        final String version = (this.moduleVersionIndex == 0) ? \"0\" : cp.getConstantString(this.moduleVersionIndex, (byte)1);\n-        buf.append(\"  version: \").append(version).append(\"\\n\");\n-        buf.append(\"  requires(\").append(this.requiresTable.length).append(\"):\\n\");\n-        for (final ModuleRequires module : this.requiresTable) {\n-            buf.append(\"    \").append(module.toString(cp)).append(\"\\n\");\n-        }\n-        buf.append(\"  exports(\").append(this.exportsTable.length).append(\"):\\n\");\n-        for (final ModuleExports module2 : this.exportsTable) {\n-            buf.append(\"    \").append(module2.toString(cp)).append(\"\\n\");\n-        }\n-        buf.append(\"  opens(\").append(this.opensTable.length).append(\"):\\n\");\n-        for (final ModuleOpens module3 : this.opensTable) {\n-            buf.append(\"    \").append(module3.toString(cp)).append(\"\\n\");\n-        }\n-        buf.append(\"  uses(\").append(this.usesIndex.length).append(\"):\\n\");\n-        for (final int index : this.usesIndex) {\n-            final String class_name = cp.getConstantString(index, (byte)7);\n-            buf.append(\"    \").append(Utility.compactClassName(class_name, false)).append(\"\\n\");\n-        }\n-        buf.append(\"  provides(\").append(this.providesTable.length).append(\"):\\n\");\n-        for (final ModuleProvides module4 : this.providesTable) {\n-            buf.append(\"    \").append(module4.toString(cp)).append(\"\\n\");\n-        }\n-        return buf.substring();\n-    }\n-    \n-    public Attribute copy(final ConstantPool _constant_pool) {\n-        final Module c = (Module)this.clone();\n-        c.requiresTable = new ModuleRequires[this.requiresTable.length];\n+        final ConstantPool constantPool = super.getConstantPool();\n+        final StringBuilder sb = new StringBuilder();\n+        sb.append(\"Module:\\n\");\n+        sb.append(\"  name:    \").append(constantPool.getConstantString(this.moduleNameIndex, (byte)19).replace('/', '.')).append(\"\\n\");\n+        sb.append(\"  flags:   \").append(String.format(\"%04x\", Integer.valueOf(this.moduleFlags))).append(\"\\n\");\n+        sb.append(\"  version: \").append((this.moduleVersionIndex == 0) ? \"0\" : constantPool.getConstantString(this.moduleVersionIndex, (byte)1)).append(\"\\n\");\n+        sb.append(\"  requires(\").append(this.requiresTable.length).append(\"):\\n\");\n+        final ModuleRequires[] requiresTable = this.requiresTable;\n+        for (int length = requiresTable.length, i = 0; i < length; ++i) {\n+            sb.append(\"    \").append(requiresTable[i].toString(constantPool)).append(\"\\n\");\n+        }\n+        sb.append(\"  exports(\").append(this.exportsTable.length).append(\"):\\n\");\n+        final ModuleExports[] exportsTable = this.exportsTable;\n+        for (int length2 = exportsTable.length, j = 0; j < length2; ++j) {\n+            sb.append(\"    \").append(exportsTable[j].toString(constantPool)).append(\"\\n\");\n+        }\n+        sb.append(\"  opens(\").append(this.opensTable.length).append(\"):\\n\");\n+        final ModuleOpens[] opensTable = this.opensTable;\n+        for (int length3 = opensTable.length, k = 0; k < length3; ++k) {\n+            sb.append(\"    \").append(opensTable[k].toString(constantPool)).append(\"\\n\");\n+        }\n+        sb.append(\"  uses(\").append(this.usesIndex.length).append(\"):\\n\");\n+        final int[] usesIndex = this.usesIndex;\n+        for (int length4 = usesIndex.length, l = 0; l < length4; ++l) {\n+            sb.append(\"    \").append(Utility.compactClassName(constantPool.getConstantString(usesIndex[l], (byte)7), false)).append(\"\\n\");\n+        }\n+        sb.append(\"  provides(\").append(this.providesTable.length).append(\"):\\n\");\n+        final ModuleProvides[] providesTable = this.providesTable;\n+        for (int length5 = providesTable.length, n = 0; n < length5; ++n) {\n+            sb.append(\"    \").append(providesTable[n].toString(constantPool)).append(\"\\n\");\n+        }\n+        return sb.substring();\n+    }\n+    \n+    public Attribute copy(final ConstantPool constantPool) {\n+        final Module module = (Module)this.clone();\n+        module.requiresTable = new ModuleRequires[this.requiresTable.length];\n         for (int i = 0; i < this.requiresTable.length; ++i) {\n-            c.requiresTable[i] = this.requiresTable[i].copy();\n+            module.requiresTable[i] = this.requiresTable[i].copy();\n         }\n-        c.exportsTable = new ModuleExports[this.exportsTable.length];\n-        for (int i = 0; i < this.exportsTable.length; ++i) {\n-            c.exportsTable[i] = this.exportsTable[i].copy();\n-        }\n-        c.opensTable = new ModuleOpens[this.opensTable.length];\n-        for (int i = 0; i < this.opensTable.length; ++i) {\n-            c.opensTable[i] = this.opensTable[i].copy();\n-        }\n-        c.providesTable = new ModuleProvides[this.providesTable.length];\n-        for (int i = 0; i < this.providesTable.length; ++i) {\n-            c.providesTable[i] = this.providesTable[i].copy();\n+        module.exportsTable = new ModuleExports[this.exportsTable.length];\n+        for (int j = 0; j < this.exportsTable.length; ++j) {\n+            module.exportsTable[j] = this.exportsTable[j].copy();\n+        }\n+        module.opensTable = new ModuleOpens[this.opensTable.length];\n+        for (int k = 0; k < this.opensTable.length; ++k) {\n+            module.opensTable[k] = this.opensTable[k].copy();\n+        }\n+        module.providesTable = new ModuleProvides[this.providesTable.length];\n+        for (int l = 0; l < this.providesTable.length; ++l) {\n+            module.providesTable[l] = this.providesTable[l].copy();\n         }\n-        c.setConstantPool(_constant_pool);\n-        return c;\n+        module.setConstantPool(constantPool);\n+        return module;\n     }\n }\n"}]}
