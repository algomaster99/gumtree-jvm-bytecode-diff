{"diffoscope-json-version": 1, "source1": "first/TarArchiveInputStream.class", "source2": "second/TarArchiveInputStream.class", "unified_diff": null, "details": [{"source1": "procyon -ec {}", "source2": "procyon -ec {}", "unified_diff": "@@ -180,15 +180,15 @@\n             final byte[] longNameData = this.getLongNameData();\n             if (longNameData == null) {\n                 return null;\n             }\n             final String name = this.zipEncoding.decode(longNameData);\n             this.currEntry.setName(name);\n             if (this.currEntry.isDirectory() && !name.endsWith(\"/\")) {\n-                this.currEntry.setName(name + \"/\");\n+                this.currEntry.setName(String.valueOf(name) + \"/\");\n             }\n         }\n         if (this.currEntry.isGlobalPaxHeader()) {\n             this.readGlobalPaxHeaders();\n         }\n         try {\n             if (this.currEntry.isPaxHeader()) {\n@@ -339,14 +339,18 @@\n         }\n         finally {\n             if (shouldReset && marked) {\n                 this.pushedBackBytes((long)this.recordSize);\n                 this.inputStream.reset();\n             }\n         }\n+        if (shouldReset && marked) {\n+            this.pushedBackBytes((long)this.recordSize);\n+            this.inputStream.reset();\n+        }\n     }\n     \n     public int read(final byte[] buf, final int offset, int numToRead) throws IOException {\n         if (numToRead == 0) {\n             return 0;\n         }\n         int totalRead = 0;\n"}]}
