{"diffoscope-json-version": 1, "source1": "first/XMLBeanDeclaration.class", "source2": "second/XMLBeanDeclaration.class", "unified_diff": null, "details": [{"source1": "procyon -ec {}", "source2": "procyon -ec {}", "unified_diff": "@@ -27,51 +27,51 @@\n     private static final String ELEM_CTOR_ARG = \"config-constrarg\";\n     private static final String ATTR_CTOR_VALUE = \"config-value\";\n     private static final String ATTR_CTOR_TYPE = \"config-type\";\n     private final HierarchicalConfiguration<?> configuration;\n     private final XMLBeanDeclaration.NodeData<?> node;\n     private final String defaultBeanClassName;\n     \n-    public <T> XMLBeanDeclaration(final HierarchicalConfiguration<T> config, final String key) {\n-        this(config, key, false);\n+    public <T> XMLBeanDeclaration(final HierarchicalConfiguration<T> hierarchicalConfiguration, final String s) {\n+        this((org.apache.commons.configuration2.HierarchicalConfiguration<Object>)hierarchicalConfiguration, s, false);\n     }\n     \n-    public <T> XMLBeanDeclaration(final HierarchicalConfiguration<T> config, final String key, final boolean optional) {\n-        this(config, key, optional, null);\n+    public <T> XMLBeanDeclaration(final HierarchicalConfiguration<T> hierarchicalConfiguration, final String s, final boolean b) {\n+        this(hierarchicalConfiguration, s, b, null);\n     }\n     \n-    public <T> XMLBeanDeclaration(final HierarchicalConfiguration<T> config, final String key, final boolean optional, final String defBeanClsName) {\n-        if (config == null) {\n+    public <T> XMLBeanDeclaration(final HierarchicalConfiguration<T> hierarchicalConfiguration, final String s, final boolean b, final String defaultBeanClassName) {\n+        if (hierarchicalConfiguration == null) {\n             throw new IllegalArgumentException(\"Configuration must not be null!\");\n         }\n-        HierarchicalConfiguration<?> tmpconfiguration;\n+        Object configuration;\n         try {\n-            tmpconfiguration = (HierarchicalConfiguration<?>)config.configurationAt(key);\n+            configuration = hierarchicalConfiguration.configurationAt(s);\n         }\n-        catch (final ConfigurationRuntimeException iex) {\n-            if (!optional || config.getMaxIndex(key) > 0) {\n-                throw iex;\n+        catch (final ConfigurationRuntimeException ex) {\n+            if (!b || hierarchicalConfiguration.getMaxIndex(s) > 0) {\n+                throw ex;\n             }\n-            tmpconfiguration = (HierarchicalConfiguration<?>)new BaseHierarchicalConfiguration();\n+            configuration = new BaseHierarchicalConfiguration();\n         }\n-        this.node = createNodeDataFromConfiguration(tmpconfiguration);\n-        this.configuration = tmpconfiguration;\n-        this.defaultBeanClassName = defBeanClsName;\n+        this.node = createNodeDataFromConfiguration((org.apache.commons.configuration2.HierarchicalConfiguration<?>)configuration);\n+        this.configuration = (HierarchicalConfiguration<?>)configuration;\n+        this.defaultBeanClassName = defaultBeanClassName;\n         this.initSubnodeConfiguration(this.getConfiguration());\n     }\n     \n-    public <T> XMLBeanDeclaration(final HierarchicalConfiguration<T> config) {\n-        this(config, null);\n+    public <T> XMLBeanDeclaration(final HierarchicalConfiguration<T> hierarchicalConfiguration) {\n+        this(hierarchicalConfiguration, null);\n     }\n     \n-    XMLBeanDeclaration(final HierarchicalConfiguration<?> config, final XMLBeanDeclaration.NodeData<?> node) {\n+    XMLBeanDeclaration(final HierarchicalConfiguration<?> configuration, final XMLBeanDeclaration.NodeData<?> node) {\n         this.node = node;\n-        this.configuration = config;\n+        this.configuration = configuration;\n         this.defaultBeanClassName = null;\n-        this.initSubnodeConfiguration(config);\n+        this.initSubnodeConfiguration(configuration);\n     }\n     \n     public HierarchicalConfiguration<?> getConfiguration() {\n         return this.configuration;\n     }\n     \n     public String getDefaultBeanClassName() {\n@@ -87,109 +87,110 @@\n     }\n     \n     public String getBeanClassName() {\n         return this.getConfiguration().getString(\"[@config-class]\", this.getDefaultBeanClassName());\n     }\n     \n     public Map<String, Object> getBeanProperties() {\n-        final Map<String, Object> props = new HashMap<String, Object>();\n-        for (final String key : this.getAttributeNames()) {\n-            if (!this.isReservedAttributeName(key)) {\n-                props.put(key, this.interpolate(this.getNode().getAttribute(key)));\n+        final HashMap hashMap = new HashMap();\n+        for (final String s : this.getAttributeNames()) {\n+            if (!this.isReservedAttributeName(s)) {\n+                hashMap.put(s, this.interpolate(this.getNode().getAttribute(s)));\n             }\n         }\n-        return props;\n+        return hashMap;\n     }\n     \n     public Map<String, Object> getNestedBeanDeclarations() {\n-        final Map<String, Object> nested = new HashMap<String, Object>();\n-        for (final XMLBeanDeclaration.NodeData<?> child : this.getNode().getChildren()) {\n-            if (!this.isReservedChildName(child.nodeName())) {\n-                if (nested.containsKey(child.nodeName())) {\n-                    final Object obj = nested.get(child.nodeName());\n-                    List<BeanDeclaration> list;\n-                    if (obj instanceof List) {\n-                        final List<BeanDeclaration> tmpList = list = (List)obj;\n+        final HashMap hashMap = new HashMap();\n+        for (final XMLBeanDeclaration.NodeData nodeData : this.getNode().getChildren()) {\n+            if (!this.isReservedChildName(nodeData.nodeName())) {\n+                if (hashMap.containsKey(nodeData.nodeName())) {\n+                    final Object value = hashMap.get(nodeData.nodeName());\n+                    List list;\n+                    if (value instanceof List) {\n+                        list = (List)value;\n                     }\n                     else {\n-                        list = new ArrayList<BeanDeclaration>();\n-                        list.add((BeanDeclaration)obj);\n-                        nested.put(child.nodeName(), list);\n+                        list = new ArrayList();\n+                        list.add(value);\n+                        hashMap.put(nodeData.nodeName(), list);\n                     }\n-                    list.add(this.createBeanDeclaration(child));\n+                    list.add(this.createBeanDeclaration((XMLBeanDeclaration.NodeData<?>)nodeData));\n                 }\n                 else {\n-                    nested.put(child.nodeName(), this.createBeanDeclaration(child));\n+                    hashMap.put(nodeData.nodeName(), this.createBeanDeclaration((XMLBeanDeclaration.NodeData<?>)nodeData));\n                 }\n             }\n         }\n-        return nested;\n+        return hashMap;\n     }\n     \n     public Collection<ConstructorArg> getConstructorArgs() {\n-        final Collection<ConstructorArg> args = new LinkedList<ConstructorArg>();\n-        for (final XMLBeanDeclaration.NodeData<?> child : this.getNode().getChildren(\"config-constrarg\")) {\n-            args.add(this.createConstructorArg(child));\n+        final LinkedList list = new LinkedList();\n+        final Iterator iterator = this.getNode().getChildren(\"config-constrarg\").iterator();\n+        while (iterator.hasNext()) {\n+            list.add(this.createConstructorArg((XMLBeanDeclaration.NodeData<?>)(XMLBeanDeclaration.NodeData)iterator.next()));\n         }\n-        return args;\n+        return list;\n     }\n     \n-    protected Object interpolate(final Object value) {\n+    protected Object interpolate(final Object o) {\n         final ConfigurationInterpolator interpolator = this.getConfiguration().getInterpolator();\n-        return (interpolator != null) ? interpolator.interpolate(value) : value;\n+        return (interpolator != null) ? interpolator.interpolate(o) : o;\n     }\n     \n-    protected boolean isReservedChildName(final String name) {\n-        return this.isReservedName(name);\n+    protected boolean isReservedChildName(final String s) {\n+        return this.isReservedName(s);\n     }\n     \n-    protected boolean isReservedAttributeName(final String name) {\n-        return this.isReservedName(name);\n+    protected boolean isReservedAttributeName(final String s) {\n+        return this.isReservedName(s);\n     }\n     \n-    protected boolean isReservedName(final String name) {\n-        return name == null || name.startsWith(\"config-\");\n+    protected boolean isReservedName(final String s) {\n+        return s == null || s.startsWith(\"config-\");\n     }\n     \n     protected Set<String> getAttributeNames() {\n         return this.getNode().getAttributes();\n     }\n     \n     XMLBeanDeclaration.NodeData<?> getNode() {\n         return this.node;\n     }\n     \n-    BeanDeclaration createBeanDeclaration(final XMLBeanDeclaration.NodeData<?> node) {\n-        for (final HierarchicalConfiguration<?> config : this.getConfiguration().configurationsAt(node.escapedNodeName((HierarchicalConfiguration)this.getConfiguration()))) {\n-            if (node.matchesConfigRootNode((HierarchicalConfiguration)config)) {\n-                return (BeanDeclaration)new XMLBeanDeclaration(config, node);\n+    BeanDeclaration createBeanDeclaration(final XMLBeanDeclaration.NodeData<?> nodeData) {\n+        for (final HierarchicalConfiguration hierarchicalConfiguration : this.getConfiguration().configurationsAt(nodeData.escapedNodeName((HierarchicalConfiguration)this.getConfiguration()))) {\n+            if (nodeData.matchesConfigRootNode(hierarchicalConfiguration)) {\n+                return (BeanDeclaration)new XMLBeanDeclaration((HierarchicalConfiguration<?>)hierarchicalConfiguration, nodeData);\n             }\n         }\n-        throw new ConfigurationRuntimeException(\"Unable to match node for \" + node.nodeName());\n+        throw new ConfigurationRuntimeException(\"Unable to match node for \" + nodeData.nodeName());\n     }\n     \n-    private void initSubnodeConfiguration(final HierarchicalConfiguration<?> conf) {\n-        conf.setExpressionEngine((ExpressionEngine)null);\n+    private void initSubnodeConfiguration(final HierarchicalConfiguration<?> hierarchicalConfiguration) {\n+        hierarchicalConfiguration.setExpressionEngine((ExpressionEngine)null);\n     }\n     \n-    private ConstructorArg createConstructorArg(final XMLBeanDeclaration.NodeData<?> child) {\n-        final String type = this.getAttribute(child, \"config-type\");\n-        if (isBeanDeclarationArgument(child)) {\n-            return ConstructorArg.forValue((Object)this.getAttribute(child, \"config-value\"), type);\n+    private ConstructorArg createConstructorArg(final XMLBeanDeclaration.NodeData<?> nodeData) {\n+        final String attribute = this.getAttribute(nodeData, \"config-type\");\n+        if (isBeanDeclarationArgument(nodeData)) {\n+            return ConstructorArg.forValue((Object)this.getAttribute(nodeData, \"config-value\"), attribute);\n         }\n-        return ConstructorArg.forBeanDeclaration(this.createBeanDeclaration(child), type);\n+        return ConstructorArg.forBeanDeclaration(this.createBeanDeclaration(nodeData), attribute);\n     }\n     \n-    private String getAttribute(final XMLBeanDeclaration.NodeData<?> nd, final String attr) {\n-        final Object value = nd.getAttribute(attr);\n-        return (value == null) ? null : String.valueOf(this.interpolate(value));\n+    private String getAttribute(final XMLBeanDeclaration.NodeData<?> nodeData, final String s) {\n+        final Object attribute = nodeData.getAttribute(s);\n+        return (attribute == null) ? null : String.valueOf(this.interpolate(attribute));\n     }\n     \n-    private static boolean isBeanDeclarationArgument(final XMLBeanDeclaration.NodeData<?> nd) {\n-        return !nd.getAttributes().contains(\"config-class\");\n+    private static boolean isBeanDeclarationArgument(final XMLBeanDeclaration.NodeData<?> nodeData) {\n+        return !nodeData.getAttributes().contains(\"config-class\");\n     }\n     \n-    private static <T> XMLBeanDeclaration.NodeData<T> createNodeDataFromConfiguration(final HierarchicalConfiguration<T> config) {\n-        final NodeHandler<T> handler = (NodeHandler<T>)config.getNodeModel().getNodeHandler();\n-        return (XMLBeanDeclaration.NodeData<T>)new XMLBeanDeclaration.NodeData(handler.getRootNode(), (NodeHandler)handler);\n+    private static <T> XMLBeanDeclaration.NodeData<T> createNodeDataFromConfiguration(final HierarchicalConfiguration<T> hierarchicalConfiguration) {\n+        final NodeHandler nodeHandler = hierarchicalConfiguration.getNodeModel().getNodeHandler();\n+        return (XMLBeanDeclaration.NodeData<T>)new XMLBeanDeclaration.NodeData(nodeHandler.getRootNode(), nodeHandler);\n     }\n }\n"}]}
