{"diffoscope-json-version": 1, "source1": "first/FastDatePrinter.class", "source2": "second/FastDatePrinter.class", "unified_diff": null, "details": [{"source1": "procyon -ec {}", "source2": "procyon -ec {}", "unified_diff": "@@ -1,21 +1,21 @@\n \n package org.apache.commons.lang3.time;\n \n-import java.util.concurrent.ConcurrentHashMap;\n import java.io.ObjectInputStream;\n import java.io.IOException;\n import org.apache.commons.lang3.exception.ExceptionUtils;\n import java.util.Calendar;\n import java.util.Date;\n import java.text.FieldPosition;\n import java.util.ArrayList;\n import java.text.DateFormatSymbols;\n import java.util.List;\n import org.apache.commons.lang3.LocaleUtils;\n+import java.util.concurrent.ConcurrentHashMap;\n import java.util.concurrent.ConcurrentMap;\n import java.util.Locale;\n import java.util.TimeZone;\n import java.io.Serializable;\n \n public class FastDatePrinter implements DatePrinter, Serializable\n {\n@@ -29,14 +29,19 @@\n     private final TimeZone mTimeZone;\n     private final Locale mLocale;\n     private transient FastDatePrinter.Rule[] mRules;\n     private transient int mMaxLengthEstimate;\n     private static final int MAX_DIGITS = 10;\n     private static final ConcurrentMap<FastDatePrinter.TimeZoneDisplayKey, String> cTimeZoneDisplayCache;\n     \n+    static {\n+        EMPTY_RULE_ARRAY = new FastDatePrinter.Rule[0];\n+        cTimeZoneDisplayCache = new ConcurrentHashMap<FastDatePrinter.TimeZoneDisplayKey, String>(7);\n+    }\n+    \n     protected FastDatePrinter(final String pattern, final TimeZone timeZone, final Locale locale) {\n         this.mPattern = pattern;\n         this.mTimeZone = timeZone;\n         this.mLocale = LocaleUtils.toLocale(locale);\n         this.init();\n     }\n     \n@@ -357,15 +362,17 @@\n     @Deprecated\n     protected StringBuffer applyRules(final Calendar calendar, final StringBuffer buf) {\n         return this.applyRules(calendar, buf);\n     }\n     \n     private <B extends Appendable> B applyRules(final Calendar calendar, final B buf) {\n         try {\n-            for (final FastDatePrinter.Rule rule : this.mRules) {\n+            FastDatePrinter.Rule[] mRules;\n+            for (int length = (mRules = this.mRules).length, i = 0; i < length; ++i) {\n+                final FastDatePrinter.Rule rule = mRules[i];\n                 rule.appendTo((Appendable)buf, calendar);\n             }\n         }\n         catch (final IOException ioe) {\n             ExceptionUtils.rethrow((Throwable)ioe);\n         }\n         return buf;\n@@ -487,13 +494,8 @@\n             final String prior = (String)FastDatePrinter.cTimeZoneDisplayCache.putIfAbsent(key, value);\n             if (prior != null) {\n                 value = prior;\n             }\n         }\n         return value;\n     }\n-    \n-    static {\n-        EMPTY_RULE_ARRAY = new FastDatePrinter.Rule[0];\n-        cTimeZoneDisplayCache = new ConcurrentHashMap<FastDatePrinter.TimeZoneDisplayKey, String>(7);\n-    }\n }\n"}]}
