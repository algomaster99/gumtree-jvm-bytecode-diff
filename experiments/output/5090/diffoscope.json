{"diffoscope-json-version": 1, "source1": "first/DeferredFileOutputStream.class", "source2": "second/DeferredFileOutputStream.class", "unified_diff": null, "details": [{"source1": "procyon -ec {}", "source2": "procyon -ec {}", "unified_diff": "@@ -104,13 +104,32 @@\n         if (!this.closed) {\n             throw new IOException(\"Stream not closed\");\n         }\n         if (this.isInMemory()) {\n             this.memoryOutputStream.writeTo(out);\n         }\n         else {\n-            try (final FileInputStream fis = new FileInputStream(this.outputFile)) {\n+            final FileInputStream fis = new FileInputStream(this.outputFile);\n+            Throwable t = null;\n+            try {\n                 IOUtils.copy((InputStream)fis, out);\n             }\n+            catch (final Throwable t2) {\n+                t = t2;\n+                throw t2;\n+            }\n+            finally {\n+                if (t != null) {\n+                    try {\n+                        fis.close();\n+                    }\n+                    catch (final Throwable exception) {\n+                        t.addSuppressed(exception);\n+                    }\n+                }\n+                else {\n+                    fis.close();\n+                }\n+            }\n         }\n     }\n }\n"}]}
