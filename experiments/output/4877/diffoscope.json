{"diffoscope-json-version": 1, "source1": "first/ByteArrayOutputStream.class", "source2": "second/ByteArrayOutputStream.class", "unified_diff": null, "details": [{"source1": "procyon -ec {}", "source2": "procyon -ec {}", "unified_diff": "@@ -54,18 +54,37 @@\n     }\n     \n     public static InputStream toBufferedInputStream(final InputStream input) throws IOException {\n         return toBufferedInputStream(input, 1024);\n     }\n     \n     public static InputStream toBufferedInputStream(final InputStream input, final int size) throws IOException {\n-        try (final ByteArrayOutputStream output = new ByteArrayOutputStream(size)) {\n+        final ByteArrayOutputStream output = new ByteArrayOutputStream(size);\n+        Throwable t = null;\n+        try {\n             output.write(input);\n             return output.toInputStream();\n         }\n+        catch (final Throwable t2) {\n+            t = t2;\n+            throw t2;\n+        }\n+        finally {\n+            if (t != null) {\n+                try {\n+                    output.close();\n+                }\n+                catch (final Throwable exception) {\n+                    t.addSuppressed(exception);\n+                }\n+            }\n+            else {\n+                output.close();\n+            }\n+        }\n     }\n     \n     public synchronized InputStream toInputStream() {\n         return this.toInputStream(ByteArrayInputStream::new);\n     }\n     \n     public synchronized byte[] toByteArray() {\n"}]}
