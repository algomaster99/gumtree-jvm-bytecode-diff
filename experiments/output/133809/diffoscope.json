{"diffoscope-json-version": 1, "source1": "first/FTPFile.class", "source2": "second/FTPFile.class", "unified_diff": null, "details": [{"source1": "procyon -ec {}", "source2": "procyon -ec {}", "unified_diff": "@@ -204,50 +204,71 @@\n     }\n     \n     public String toFormattedString(final String timezone) {\n         if (!this.isValid()) {\n             return \"[Invalid: could not parse file entry]\";\n         }\n         final StringBuilder sb = new StringBuilder();\n-        try (final Formatter fmt = new Formatter(sb)) {\n-            sb.append(this.formatType());\n-            sb.append(this.permissionToString(0));\n-            sb.append(this.permissionToString(1));\n-            sb.append(this.permissionToString(2));\n-            fmt.format(\" %4d\", Integer.valueOf(this.getHardLinkCount()));\n-            fmt.format(\" %-8s %-8s\", this.getUser(), this.getGroup());\n-            fmt.format(\" %8d\", Long.valueOf(this.getSize()));\n-            Calendar timestamp = this.getTimestamp();\n-            if (timestamp != null) {\n-                if (timezone != null) {\n-                    final TimeZone newZone = TimeZone.getTimeZone(timezone);\n-                    if (!newZone.equals(timestamp.getTimeZone())) {\n-                        final Date original = timestamp.getTime();\n-                        final Calendar newStamp = Calendar.getInstance(newZone);\n-                        newStamp.setTime(original);\n-                        timestamp = newStamp;\n+        Throwable t = null;\n+        try {\n+            final Formatter fmt = new Formatter(sb);\n+            try {\n+                sb.append(this.formatType());\n+                sb.append(this.permissionToString(0));\n+                sb.append(this.permissionToString(1));\n+                sb.append(this.permissionToString(2));\n+                fmt.format(\" %4d\", Integer.valueOf(this.getHardLinkCount()));\n+                fmt.format(\" %-8s %-8s\", this.getUser(), this.getGroup());\n+                fmt.format(\" %8d\", Long.valueOf(this.getSize()));\n+                Calendar timestamp = this.getTimestamp();\n+                if (timestamp != null) {\n+                    if (timezone != null) {\n+                        final TimeZone newZone = TimeZone.getTimeZone(timezone);\n+                        if (!newZone.equals(timestamp.getTimeZone())) {\n+                            final Date original = timestamp.getTime();\n+                            final Calendar newStamp = Calendar.getInstance(newZone);\n+                            newStamp.setTime(original);\n+                            timestamp = newStamp;\n+                        }\n                     }\n-                }\n-                fmt.format(\" %1$tY-%1$tm-%1$td\", timestamp);\n-                if (timestamp.isSet(11)) {\n-                    fmt.format(\" %1$tH\", timestamp);\n-                    if (timestamp.isSet(12)) {\n-                        fmt.format(\":%1$tM\", timestamp);\n-                        if (timestamp.isSet(13)) {\n-                            fmt.format(\":%1$tS\", timestamp);\n-                            if (timestamp.isSet(14)) {\n-                                fmt.format(\".%1$tL\", timestamp);\n+                    fmt.format(\" %1$tY-%1$tm-%1$td\", timestamp);\n+                    if (timestamp.isSet(11)) {\n+                        fmt.format(\" %1$tH\", timestamp);\n+                        if (timestamp.isSet(12)) {\n+                            fmt.format(\":%1$tM\", timestamp);\n+                            if (timestamp.isSet(13)) {\n+                                fmt.format(\":%1$tS\", timestamp);\n+                                if (timestamp.isSet(14)) {\n+                                    fmt.format(\".%1$tL\", timestamp);\n+                                }\n                             }\n                         }\n+                        fmt.format(\" %1$tZ\", timestamp);\n                     }\n-                    fmt.format(\" %1$tZ\", timestamp);\n+                }\n+                sb.append(' ');\n+                sb.append(this.getName());\n+            }\n+            finally {\n+                if (fmt != null) {\n+                    fmt.close();\n+                }\n+            }\n+        }\n+        finally {\n+            if (t == null) {\n+                final Throwable exception;\n+                t = exception;\n+            }\n+            else {\n+                final Throwable exception;\n+                if (t != exception) {\n+                    t.addSuppressed(exception);\n                 }\n             }\n-            sb.append(' ');\n-            sb.append(this.getName());\n         }\n         return sb.toString();\n     }\n     \n     @Override\n     public String toString() {\n         return this.getRawListing();\n"}]}
