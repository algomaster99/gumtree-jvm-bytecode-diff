{"diffoscope-json-version": 1, "source1": "first/FastDateParser$TimeZoneStrategy.class", "source2": "second/FastDateParser$TimeZoneStrategy.class", "unified_diff": null, "details": [{"source1": "procyon -ec {}", "source2": "procyon -ec {}", "unified_diff": "@@ -1,13 +1,12 @@\n \n package org.apache.commons.lang3.time;\n \n import java.util.Calendar;\n import java.util.Iterator;\n-import java.util.Set;\n import java.util.TimeZone;\n import java.text.DateFormatSymbols;\n import java.util.Comparator;\n import java.util.TreeSet;\n import org.apache.commons.lang3.LocaleUtils;\n import java.util.HashMap;\n import java.util.Map;\n@@ -23,57 +22,55 @@\n     \n     TimeZoneStrategy(final Locale locale) {\n         super((FastDateParser.FastDateParser$1)null);\n         this.tzNames = new HashMap();\n         this.locale = LocaleUtils.toLocale(locale);\n         final StringBuilder sb = new StringBuilder();\n         sb.append(\"((?iu)[+-]\\\\d{4}|GMT[+-]\\\\d{1,2}:\\\\d{2}\");\n-        final Set<String> sorted = new TreeSet<String>(FastDateParser.access$800());\n-        final String[][] zoneStrings;\n-        final String[][] zones = zoneStrings = DateFormatSymbols.getInstance(locale).getZoneStrings();\n-        for (final String[] zoneNames : zoneStrings) {\n-            final String tzId = zoneNames[0];\n-            if (!tzId.equalsIgnoreCase(\"GMT\")) {\n-                final TimeZone tz = TimeZone.getTimeZone(tzId);\n-                TimeZoneStrategy.TzInfo tzInfo;\n-                final TimeZoneStrategy.TzInfo standard = tzInfo = new TimeZoneStrategy.TzInfo(tz, false);\n-                for (int i = 1; i < zoneNames.length; ++i) {\n-                    switch (i) {\n+        final TreeSet set = new TreeSet(FastDateParser.access$800());\n+        for (final String[] array : DateFormatSymbols.getInstance(locale).getZoneStrings()) {\n+            final String id = array[0];\n+            if (!id.equalsIgnoreCase(\"GMT\")) {\n+                final TimeZone timeZone = TimeZone.getTimeZone(id);\n+                TimeZoneStrategy.TzInfo tzInfo = new TimeZoneStrategy.TzInfo(timeZone, false);\n+                for (int j = 1; j < array.length; ++j) {\n+                    switch (j) {\n                         case 3: {\n-                            tzInfo = new TimeZoneStrategy.TzInfo(tz, true);\n+                            tzInfo = new TimeZoneStrategy.TzInfo(timeZone, true);\n                             break;\n                         }\n                         case 5: {\n-                            tzInfo = standard;\n+                            tzInfo = tzInfo;\n                             break;\n                         }\n                     }\n-                    if (zoneNames[i] != null) {\n-                        final String key = zoneNames[i].toLowerCase(locale);\n-                        if (sorted.add(key)) {\n-                            this.tzNames.put(key, tzInfo);\n+                    if (array[j] != null) {\n+                        final String lowerCase = array[j].toLowerCase(locale);\n+                        if (set.add(lowerCase)) {\n+                            this.tzNames.put(lowerCase, tzInfo);\n                         }\n                     }\n                 }\n             }\n         }\n-        for (final String zoneName : sorted) {\n-            FastDateParser.access$900(sb.append('|'), zoneName);\n+        final Iterator iterator = set.iterator();\n+        while (iterator.hasNext()) {\n+            FastDateParser.access$900(sb.append('|'), (String)iterator.next());\n         }\n         sb.append(\")\");\n         this.createPattern(sb);\n     }\n     \n-    void setCalendar(final FastDateParser parser, final Calendar calendar, final String timeZone) {\n-        final TimeZone tz = FastTimeZone.getGmtTimeZone(timeZone);\n-        if (tz != null) {\n-            calendar.setTimeZone(tz);\n+    void setCalendar(final FastDateParser fastDateParser, final Calendar calendar, final String s) {\n+        final TimeZone gmtTimeZone = FastTimeZone.getGmtTimeZone(s);\n+        if (gmtTimeZone != null) {\n+            calendar.setTimeZone(gmtTimeZone);\n         }\n         else {\n-            final String lowerCase = timeZone.toLowerCase(this.locale);\n+            final String lowerCase = s.toLowerCase(this.locale);\n             TimeZoneStrategy.TzInfo tzInfo = (TimeZoneStrategy.TzInfo)this.tzNames.get(lowerCase);\n             if (tzInfo == null) {\n                 tzInfo = this.tzNames.get(lowerCase + '.');\n             }\n             calendar.set(16, tzInfo.dstOffset);\n             calendar.set(15, tzInfo.zone.getRawOffset());\n         }\n"}]}
