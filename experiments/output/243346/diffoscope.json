{"diffoscope-json-version": 1, "source1": "first/AttributeHTML.class", "source2": "second/AttributeHTML.class", "unified_diff": null, "details": [{"source1": "procyon -ec {}", "source2": "procyon -ec {}", "unified_diff": "@@ -65,93 +65,91 @@\n         }\n         else {\n             this.printWriter.print(\"<TR BGCOLOR=\\\"#A0A0A0\\\"><TD>\");\n         }\n         this.printWriter.println(\"<H4><A NAME=\\\"\" + anchor + \"\\\">\" + this.attrCount + \" \" + Const.getAttributeName((int)tag) + \"</A></H4>\");\n         switch (tag) {\n             case 2: {\n-                final Code c = (Code)attribute;\n-                this.printWriter.print(\"<UL><LI>Maximum stack size = \" + c.getMaxStack() + \"</LI>\\n<LI>Number of local variables = \" + c.getMaxLocals() + \"</LI>\\n<LI><A HREF=\\\"\" + this.className + \"_code.html#method\" + methodNumber + \"\\\" TARGET=Code>Byte code</A></LI></UL>\\n\");\n-                final CodeException[] ce = c.getExceptionTable();\n-                final int len = ce.length;\n-                if (len > 0) {\n+                final Code code = (Code)attribute;\n+                this.printWriter.print(\"<UL><LI>Maximum stack size = \" + code.getMaxStack() + \"</LI>\\n<LI>Number of local variables = \" + code.getMaxLocals() + \"</LI>\\n<LI><A HREF=\\\"\" + this.className + \"_code.html#method\" + methodNumber + \"\\\" TARGET=Code>Byte code</A></LI></UL>\\n\");\n+                final CodeException[] exceptionTable = code.getExceptionTable();\n+                if (exceptionTable.length > 0) {\n                     this.printWriter.print(\"<P><B>Exceptions handled</B><UL>\");\n-                    for (final CodeException cex : ce) {\n-                        final int catchType = cex.getCatchType();\n+                    for (final CodeException ex : exceptionTable) {\n+                        final int catchType = ex.getCatchType();\n                         this.printWriter.print(\"<LI>\");\n                         if (catchType != 0) {\n                             this.printWriter.print(this.constantHtml.referenceConstant(catchType));\n                         }\n                         else {\n                             this.printWriter.print(\"Any Exception\");\n                         }\n-                        this.printWriter.print(\"<BR>(Ranging from lines \" + this.codeLink(cex.getStartPC(), methodNumber) + \" to \" + this.codeLink(cex.getEndPC(), methodNumber) + \", handled at line \" + this.codeLink(cex.getHandlerPC(), methodNumber) + \")</LI>\");\n+                        this.printWriter.print(\"<BR>(Ranging from lines \" + this.codeLink(ex.getStartPC(), methodNumber) + \" to \" + this.codeLink(ex.getEndPC(), methodNumber) + \", handled at line \" + this.codeLink(ex.getHandlerPC(), methodNumber) + \")</LI>\");\n                     }\n                     this.printWriter.print(\"</UL>\");\n                     break;\n                 }\n                 break;\n             }\n             case 1: {\n-                final int index = ((ConstantValue)attribute).getConstantValueIndex();\n-                this.printWriter.print(\"<UL><LI><A HREF=\\\"\" + this.className + \"_cp.html#cp\" + index + \"\\\" TARGET=\\\"ConstantPool\\\">Constant value index(\" + index + \")</A></UL>\\n\");\n+                final int constantValueIndex = ((ConstantValue)attribute).getConstantValueIndex();\n+                this.printWriter.print(\"<UL><LI><A HREF=\\\"\" + this.className + \"_cp.html#cp\" + constantValueIndex + \"\\\" TARGET=\\\"ConstantPool\\\">Constant value index(\" + constantValueIndex + \")</A></UL>\\n\");\n                 break;\n             }\n             case 0: {\n-                final int index = ((SourceFile)attribute).getSourceFileIndex();\n-                this.printWriter.print(\"<UL><LI><A HREF=\\\"\" + this.className + \"_cp.html#cp\" + index + \"\\\" TARGET=\\\"ConstantPool\\\">Source file index(\" + index + \")</A></UL>\\n\");\n+                final int sourceFileIndex = ((SourceFile)attribute).getSourceFileIndex();\n+                this.printWriter.print(\"<UL><LI><A HREF=\\\"\" + this.className + \"_cp.html#cp\" + sourceFileIndex + \"\\\" TARGET=\\\"ConstantPool\\\">Source file index(\" + sourceFileIndex + \")</A></UL>\\n\");\n                 break;\n             }\n             case 3: {\n-                final int[] indices = ((ExceptionTable)attribute).getExceptionIndexTable();\n+                final int[] exceptionIndexTable = ((ExceptionTable)attribute).getExceptionIndexTable();\n                 this.printWriter.print(\"<UL>\");\n-                for (final int indice : indices) {\n-                    this.printWriter.print(\"<LI><A HREF=\\\"\" + this.className + \"_cp.html#cp\" + indice + \"\\\" TARGET=\\\"ConstantPool\\\">Exception class index(\" + indice + \")</A>\\n\");\n+                for (final int n : exceptionIndexTable) {\n+                    this.printWriter.print(\"<LI><A HREF=\\\"\" + this.className + \"_cp.html#cp\" + n + \"\\\" TARGET=\\\"ConstantPool\\\">Exception class index(\" + n + \")</A>\\n\");\n                 }\n                 this.printWriter.print(\"</UL>\\n\");\n                 break;\n             }\n             case 4: {\n-                final LineNumber[] lineNumbers = ((LineNumberTable)attribute).getLineNumberTable();\n+                final LineNumber[] lineNumberTable = ((LineNumberTable)attribute).getLineNumberTable();\n                 this.printWriter.print(\"<P>\");\n-                for (int i = 0; i < lineNumbers.length; ++i) {\n-                    this.printWriter.print(\"(\" + lineNumbers[i].getStartPC() + \",&nbsp;\" + lineNumbers[i].getLineNumber() + \")\");\n-                    if (i < lineNumbers.length - 1) {\n+                for (int k = 0; k < lineNumberTable.length; ++k) {\n+                    this.printWriter.print(\"(\" + lineNumberTable[k].getStartPC() + \",&nbsp;\" + lineNumberTable[k].getLineNumber() + \")\");\n+                    if (k < lineNumberTable.length - 1) {\n                         this.printWriter.print(\", \");\n                     }\n                 }\n                 break;\n             }\n             case 5: {\n                 this.printWriter.print(\"<UL>\");\n-                ((LocalVariableTable)attribute).forEach(var -> {\n-                    final int sigIdx = var.getSignatureIndex();\n-                    final String signature = this.constantPool.getConstantUtf8(sigIdx).getBytes();\n-                    final String signature2 = Utility.signatureToString(signature, false);\n-                    final int start = var.getStartPC();\n-                    final int end = start + var.getLength();\n-                    this.printWriter.println(\"<LI>\" + Class2HTML.referenceType(signature2) + \"&nbsp;<B>\" + var.getName() + \"</B> in slot %\" + var.getIndex() + \"<BR>Valid from lines <A HREF=\\\"\" + this.className + \"_code.html#code\" + methodNumber + \"@\" + start + \"\\\" TARGET=Code>\" + start + \"</A> to <A HREF=\\\"\" + this.className + \"_code.html#code\" + methodNumber + \"@\" + end + \"\\\" TARGET=Code>\" + end + \"</A></LI>\");\n+                ((LocalVariableTable)attribute).forEach(localVariable -> {\n+                    Utility.signatureToString(this.constantPool.getConstantUtf8(localVariable.getSignatureIndex()).getBytes(), false);\n+                    localVariable.getStartPC();\n+                    final int n4;\n+                    final int n3 = n4 + localVariable.getLength();\n+                    final String s;\n+                    this.printWriter.println(\"<LI>\" + Class2HTML.referenceType(s) + \"&nbsp;<B>\" + localVariable.getName() + \"</B> in slot %\" + localVariable.getIndex() + \"<BR>Valid from lines <A HREF=\\\"\" + this.className + \"_code.html#code\" + n2 + \"@\" + n4 + \"\\\" TARGET=Code>\" + n4 + \"</A> to <A HREF=\\\"\" + this.className + \"_code.html#code\" + n2 + \"@\" + n3 + \"\\\" TARGET=Code>\" + n3 + \"</A></LI>\");\n                     return;\n                 });\n                 this.printWriter.print(\"</UL>\\n\");\n                 break;\n             }\n             case 6: {\n                 this.printWriter.print(\"<UL>\");\n-                for (final InnerClass clazz : ((InnerClasses)attribute).getInnerClasses()) {\n-                    final int index = clazz.getInnerNameIndex();\n-                    String name;\n-                    if (index > 0) {\n-                        name = this.constantPool.getConstantUtf8(index).getBytes();\n+                for (final InnerClass innerClass : ((InnerClasses)attribute).getInnerClasses()) {\n+                    final int innerNameIndex = innerClass.getInnerNameIndex();\n+                    String bytes;\n+                    if (innerNameIndex > 0) {\n+                        bytes = this.constantPool.getConstantUtf8(innerNameIndex).getBytes();\n                     }\n                     else {\n-                        name = \"&lt;anonymous&gt;\";\n+                        bytes = \"&lt;anonymous&gt;\";\n                     }\n-                    final String access = Utility.accessToString(clazz.getInnerAccessFlags());\n-                    this.printWriter.print(\"<LI><FONT COLOR=\\\"#FF0000\\\">\" + access + \"</FONT> \" + this.constantHtml.referenceConstant(clazz.getInnerClassIndex()) + \" in&nbsp;class \" + this.constantHtml.referenceConstant(clazz.getOuterClassIndex()) + \" named \" + name + \"</LI>\\n\");\n+                    this.printWriter.print(\"<LI><FONT COLOR=\\\"#FF0000\\\">\" + Utility.accessToString(innerClass.getInnerAccessFlags()) + \"</FONT> \" + this.constantHtml.referenceConstant(innerClass.getInnerClassIndex()) + \" in&nbsp;class \" + this.constantHtml.referenceConstant(innerClass.getOuterClassIndex()) + \" named \" + bytes + \"</LI>\\n\");\n                 }\n                 this.printWriter.print(\"</UL>\\n\");\n                 break;\n             }\n             default: {\n                 this.printWriter.print(\"<P>\" + attribute);\n                 break;\n"}]}
