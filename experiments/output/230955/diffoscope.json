{"diffoscope-json-version": 1, "source1": "first/CpBands.class", "source2": "second/CpBands.class", "unified_diff": null, "details": [{"source1": "procyon -ec {}", "source2": "procyon -ec {}", "unified_diff": "@@ -1,15 +1,15 @@\n \n package org.apache.commons.compress.harmony.pack200;\n \n import org.objectweb.asm.Type;\n import java.util.Collection;\n import java.util.Iterator;\n-import java.util.List;\n import java.util.Arrays;\n+import java.util.List;\n import java.util.ArrayList;\n import java.io.IOException;\n import java.io.OutputStream;\n import java.util.HashMap;\n import java.util.TreeSet;\n import java.util.HashSet;\n import java.util.Map;\n@@ -36,16 +36,16 @@\n     private final Map<String, CPSignature> stringsToCpSignature;\n     private final Map<String, CPMethodOrField> stringsToCpMethod;\n     private final Map<String, CPMethodOrField> stringsToCpField;\n     private final Map<String, CPMethodOrField> stringsToCpIMethod;\n     private final Map<Object, CPConstant<?>> objectsToCPConstant;\n     private final Segment segment;\n     \n-    public CpBands(final Segment segment, final int effort) {\n-        super(effort, segment.getSegmentHeader());\n+    public CpBands(final Segment segment, final int n) {\n+        super(n, segment.getSegmentHeader());\n         this.defaultAttributeNames = new HashSet<String>();\n         this.cp_Utf8 = new TreeSet<CPUTF8>();\n         this.cp_Int = new TreeSet<CPInt>();\n         this.cp_Float = new TreeSet<CPFloat>();\n         this.cp_Long = new TreeSet<CPLong>();\n         this.cp_Double = new TreeSet<CPDouble>();\n         this.cp_String = new TreeSet<CPString>();\n@@ -78,241 +78,245 @@\n         this.defaultAttributeNames.add(\"EnclosingMethod\");\n         this.defaultAttributeNames.add(\"Exceptions\");\n         this.defaultAttributeNames.add(\"InnerClasses\");\n         this.defaultAttributeNames.add(\"Signature\");\n         this.defaultAttributeNames.add(\"SourceFile\");\n     }\n     \n-    public void pack(final OutputStream out) throws IOException, Pack200Exception {\n+    public void pack(final OutputStream outputStream) throws IOException, Pack200Exception {\n         PackingUtils.log(\"Writing constant pool bands...\");\n-        this.writeCpUtf8(out);\n-        this.writeCpInt(out);\n-        this.writeCpFloat(out);\n-        this.writeCpLong(out);\n-        this.writeCpDouble(out);\n-        this.writeCpString(out);\n-        this.writeCpClass(out);\n-        this.writeCpSignature(out);\n-        this.writeCpDescr(out);\n-        this.writeCpMethodOrField(this.cp_Field, out, \"cp_Field\");\n-        this.writeCpMethodOrField(this.cp_Method, out, \"cp_Method\");\n-        this.writeCpMethodOrField(this.cp_Imethod, out, \"cp_Imethod\");\n+        this.writeCpUtf8(outputStream);\n+        this.writeCpInt(outputStream);\n+        this.writeCpFloat(outputStream);\n+        this.writeCpLong(outputStream);\n+        this.writeCpDouble(outputStream);\n+        this.writeCpString(outputStream);\n+        this.writeCpClass(outputStream);\n+        this.writeCpSignature(outputStream);\n+        this.writeCpDescr(outputStream);\n+        this.writeCpMethodOrField(this.cp_Field, outputStream, \"cp_Field\");\n+        this.writeCpMethodOrField(this.cp_Method, outputStream, \"cp_Method\");\n+        this.writeCpMethodOrField(this.cp_Imethod, outputStream, \"cp_Imethod\");\n     }\n     \n-    private void writeCpUtf8(final OutputStream out) throws IOException, Pack200Exception {\n+    private void writeCpUtf8(final OutputStream outputStream) throws IOException, Pack200Exception {\n         PackingUtils.log(\"Writing \" + this.cp_Utf8.size() + \" UTF8 entries...\");\n-        final int[] cpUtf8Prefix = new int[this.cp_Utf8.size() - 2];\n-        final int[] cpUtf8Suffix = new int[this.cp_Utf8.size() - 1];\n-        final List<Character> chars = new ArrayList<Character>();\n-        final List<Integer> bigSuffix = new ArrayList<Integer>();\n-        final List<Character> bigChars = new ArrayList<Character>();\n-        final Object[] cpUtf8Array = this.cp_Utf8.toArray();\n-        final String first = ((CPUTF8)cpUtf8Array[1]).getUnderlyingString();\n-        cpUtf8Suffix[0] = first.length();\n-        this.addCharacters(chars, first.toCharArray());\n-        int i;\n-        for (i = 2; i < cpUtf8Array.length; ++i) {\n-            final char[] previous = ((CPUTF8)cpUtf8Array[i - 1]).getUnderlyingString().toCharArray();\n-            String currentStr = ((CPUTF8)cpUtf8Array[i]).getUnderlyingString();\n-            final char[] current = currentStr.toCharArray();\n-            int prefix = 0;\n-            for (int j = 0; j < previous.length && previous[j] == current[j]; ++j) {\n-                ++prefix;\n-            }\n-            cpUtf8Prefix[i - 2] = prefix;\n-            currentStr = currentStr.substring(prefix);\n-            final char[] suffix = currentStr.toCharArray();\n-            if (suffix.length > 1000) {\n-                cpUtf8Suffix[i - 1] = 0;\n-                bigSuffix.add(Integer.valueOf(suffix.length));\n-                this.addCharacters(bigChars, suffix);\n+        final int[] array = new int[this.cp_Utf8.size() - 2];\n+        final int[] array2 = new int[this.cp_Utf8.size() - 1];\n+        final ArrayList list = new ArrayList();\n+        final ArrayList list2 = new ArrayList();\n+        final ArrayList list3 = new ArrayList();\n+        final Object[] array3 = this.cp_Utf8.toArray();\n+        final String underlyingString = ((CPUTF8)array3[1]).getUnderlyingString();\n+        array2[0] = underlyingString.length();\n+        this.addCharacters(list, underlyingString.toCharArray());\n+        for (int i = 2; i < array3.length; ++i) {\n+            final char[] charArray = ((CPUTF8)array3[i - 1]).getUnderlyingString().toCharArray();\n+            final String underlyingString2 = ((CPUTF8)array3[i]).getUnderlyingString();\n+            final char[] charArray2 = underlyingString2.toCharArray();\n+            int beginIndex = 0;\n+            for (int n = 0; n < charArray.length && charArray[n] == charArray2[n]; ++n) {\n+                ++beginIndex;\n+            }\n+            array[i - 2] = beginIndex;\n+            final char[] charArray3 = underlyingString2.substring(beginIndex).toCharArray();\n+            if (charArray3.length > 1000) {\n+                array2[i - 1] = 0;\n+                list2.add(Integer.valueOf(charArray3.length));\n+                this.addCharacters(list3, charArray3);\n             }\n             else {\n-                cpUtf8Suffix[i - 1] = suffix.length;\n-                this.addCharacters(chars, suffix);\n+                array2[i - 1] = charArray3.length;\n+                this.addCharacters(list, charArray3);\n             }\n         }\n-        final int[] cpUtf8Chars = new int[chars.size()];\n-        final int[] cpUtf8BigSuffix = new int[bigSuffix.size()];\n-        final int[][] cpUtf8BigChars = new int[bigSuffix.size()][];\n-        Arrays.setAll(cpUtf8Chars, i -> (char)Character.valueOf(chars.get(i)));\n-        for (int k = 0; k < cpUtf8BigSuffix.length; ++k) {\n-            final int numBigChars = (int)Integer.valueOf(bigSuffix.get(k));\n-            cpUtf8BigSuffix[k] = numBigChars;\n-            Arrays.setAll(cpUtf8BigChars[k] = new int[numBigChars], j -> (char)Character.valueOf(bigChars.remove(0)));\n-        }\n-        byte[] encodedBand = this.encodeBandInt(\"cpUtf8Prefix\", cpUtf8Prefix, Codec.DELTA5);\n-        out.write(encodedBand);\n-        PackingUtils.log(\"Wrote \" + encodedBand.length + \" bytes from cpUtf8Prefix[\" + cpUtf8Prefix.length + \"]\");\n-        encodedBand = this.encodeBandInt(\"cpUtf8Suffix\", cpUtf8Suffix, Codec.UNSIGNED5);\n-        out.write(encodedBand);\n-        PackingUtils.log(\"Wrote \" + encodedBand.length + \" bytes from cpUtf8Suffix[\" + cpUtf8Suffix.length + \"]\");\n-        encodedBand = this.encodeBandInt(\"cpUtf8Chars\", cpUtf8Chars, Codec.CHAR3);\n-        out.write(encodedBand);\n-        PackingUtils.log(\"Wrote \" + encodedBand.length + \" bytes from cpUtf8Chars[\" + cpUtf8Chars.length + \"]\");\n-        encodedBand = this.encodeBandInt(\"cpUtf8BigSuffix\", cpUtf8BigSuffix, Codec.DELTA5);\n-        out.write(encodedBand);\n-        PackingUtils.log(\"Wrote \" + encodedBand.length + \" bytes from cpUtf8BigSuffix[\" + cpUtf8BigSuffix.length + \"]\");\n-        for (int l = 0; l < cpUtf8BigChars.length; ++l) {\n-            encodedBand = this.encodeBandInt(\"cpUtf8BigChars \" + l, cpUtf8BigChars[l], Codec.DELTA5);\n-            out.write(encodedBand);\n-            PackingUtils.log(\"Wrote \" + encodedBand.length + \" bytes from cpUtf8BigChars\" + l + \"[\" + cpUtf8BigChars[l].length + \"]\");\n+        final int[] array4 = new int[list.size()];\n+        final int[] array5 = new int[list2.size()];\n+        final int[][] array6 = new int[list2.size()][];\n+        Arrays.setAll(array4, n3 -> (char)Character.valueOf(list4.get(n3)));\n+        for (int j = 0; j < array5.length; ++j) {\n+            final int intValue = (int)list2.get(j);\n+            array5[j] = intValue;\n+            Arrays.setAll(array6[j] = new int[intValue], p1 -> (char)Character.valueOf(list5.remove(0)));\n+        }\n+        final byte[] encodeBandInt = this.encodeBandInt(\"cpUtf8Prefix\", array, Codec.DELTA5);\n+        outputStream.write(encodeBandInt);\n+        PackingUtils.log(\"Wrote \" + encodeBandInt.length + \" bytes from cpUtf8Prefix[\" + array.length + \"]\");\n+        final byte[] encodeBandInt2 = this.encodeBandInt(\"cpUtf8Suffix\", array2, Codec.UNSIGNED5);\n+        outputStream.write(encodeBandInt2);\n+        PackingUtils.log(\"Wrote \" + encodeBandInt2.length + \" bytes from cpUtf8Suffix[\" + array2.length + \"]\");\n+        final byte[] encodeBandInt3 = this.encodeBandInt(\"cpUtf8Chars\", array4, Codec.CHAR3);\n+        outputStream.write(encodeBandInt3);\n+        PackingUtils.log(\"Wrote \" + encodeBandInt3.length + \" bytes from cpUtf8Chars[\" + array4.length + \"]\");\n+        final byte[] encodeBandInt4 = this.encodeBandInt(\"cpUtf8BigSuffix\", array5, Codec.DELTA5);\n+        outputStream.write(encodeBandInt4);\n+        PackingUtils.log(\"Wrote \" + encodeBandInt4.length + \" bytes from cpUtf8BigSuffix[\" + array5.length + \"]\");\n+        for (int k = 0; k < array6.length; ++k) {\n+            final byte[] encodeBandInt5 = this.encodeBandInt(\"cpUtf8BigChars \" + k, array6[k], Codec.DELTA5);\n+            outputStream.write(encodeBandInt5);\n+            PackingUtils.log(\"Wrote \" + encodeBandInt5.length + \" bytes from cpUtf8BigChars\" + k + \"[\" + array6[k].length + \"]\");\n         }\n     }\n     \n-    private void addCharacters(final List<Character> chars, final char[] charArray) {\n-        for (final char element : charArray) {\n-            chars.add(Character.valueOf(element));\n+    private void addCharacters(final List<Character> list, final char[] array) {\n+        for (int length = array.length, i = 0; i < length; ++i) {\n+            list.add(Character.valueOf(array[i]));\n         }\n     }\n     \n-    private void writeCpInt(final OutputStream out) throws IOException, Pack200Exception {\n+    private void writeCpInt(final OutputStream outputStream) throws IOException, Pack200Exception {\n         PackingUtils.log(\"Writing \" + this.cp_Int.size() + \" Integer entries...\");\n-        final int[] cpInt = new int[this.cp_Int.size()];\n-        int i = 0;\n-        for (final CPInt integer : this.cp_Int) {\n-            cpInt[i] = integer.getInt();\n-            ++i;\n-        }\n-        final byte[] encodedBand = this.encodeBandInt(\"cp_Int\", cpInt, Codec.UDELTA5);\n-        out.write(encodedBand);\n-        PackingUtils.log(\"Wrote \" + encodedBand.length + \" bytes from cp_Int[\" + cpInt.length + \"]\");\n+        final int[] array = new int[this.cp_Int.size()];\n+        int n = 0;\n+        final Iterator<CPInt> iterator = this.cp_Int.iterator();\n+        while (iterator.hasNext()) {\n+            array[n] = ((CPInt)iterator.next()).getInt();\n+            ++n;\n+        }\n+        final byte[] encodeBandInt = this.encodeBandInt(\"cp_Int\", array, Codec.UDELTA5);\n+        outputStream.write(encodeBandInt);\n+        PackingUtils.log(\"Wrote \" + encodeBandInt.length + \" bytes from cp_Int[\" + array.length + \"]\");\n     }\n     \n-    private void writeCpFloat(final OutputStream out) throws IOException, Pack200Exception {\n+    private void writeCpFloat(final OutputStream outputStream) throws IOException, Pack200Exception {\n         PackingUtils.log(\"Writing \" + this.cp_Float.size() + \" Float entries...\");\n-        final int[] cpFloat = new int[this.cp_Float.size()];\n-        int i = 0;\n-        for (final CPFloat fl : this.cp_Float) {\n-            cpFloat[i] = Float.floatToIntBits(fl.getFloat());\n-            ++i;\n-        }\n-        final byte[] encodedBand = this.encodeBandInt(\"cp_Float\", cpFloat, Codec.UDELTA5);\n-        out.write(encodedBand);\n-        PackingUtils.log(\"Wrote \" + encodedBand.length + \" bytes from cp_Float[\" + cpFloat.length + \"]\");\n+        final int[] array = new int[this.cp_Float.size()];\n+        int n = 0;\n+        final Iterator<CPFloat> iterator = this.cp_Float.iterator();\n+        while (iterator.hasNext()) {\n+            array[n] = Float.floatToIntBits(((CPFloat)iterator.next()).getFloat());\n+            ++n;\n+        }\n+        final byte[] encodeBandInt = this.encodeBandInt(\"cp_Float\", array, Codec.UDELTA5);\n+        outputStream.write(encodeBandInt);\n+        PackingUtils.log(\"Wrote \" + encodeBandInt.length + \" bytes from cp_Float[\" + array.length + \"]\");\n     }\n     \n-    private void writeCpLong(final OutputStream out) throws IOException, Pack200Exception {\n+    private void writeCpLong(final OutputStream outputStream) throws IOException, Pack200Exception {\n         PackingUtils.log(\"Writing \" + this.cp_Long.size() + \" Long entries...\");\n-        final int[] highBits = new int[this.cp_Long.size()];\n-        final int[] loBits = new int[this.cp_Long.size()];\n-        int i = 0;\n-        for (final CPLong lng : this.cp_Long) {\n-            final long l = lng.getLong();\n-            highBits[i] = (int)(l >> 32);\n-            loBits[i] = (int)l;\n-            ++i;\n-        }\n-        byte[] encodedBand = this.encodeBandInt(\"cp_Long_hi\", highBits, Codec.UDELTA5);\n-        out.write(encodedBand);\n-        PackingUtils.log(\"Wrote \" + encodedBand.length + \" bytes from cp_Long_hi[\" + highBits.length + \"]\");\n-        encodedBand = this.encodeBandInt(\"cp_Long_lo\", loBits, Codec.DELTA5);\n-        out.write(encodedBand);\n-        PackingUtils.log(\"Wrote \" + encodedBand.length + \" bytes from cp_Long_lo[\" + loBits.length + \"]\");\n+        final int[] array = new int[this.cp_Long.size()];\n+        final int[] array2 = new int[this.cp_Long.size()];\n+        int n = 0;\n+        final Iterator<CPLong> iterator = this.cp_Long.iterator();\n+        while (iterator.hasNext()) {\n+            final long long1 = ((CPLong)iterator.next()).getLong();\n+            array[n] = (int)(long1 >> 32);\n+            array2[n] = (int)long1;\n+            ++n;\n+        }\n+        final byte[] encodeBandInt = this.encodeBandInt(\"cp_Long_hi\", array, Codec.UDELTA5);\n+        outputStream.write(encodeBandInt);\n+        PackingUtils.log(\"Wrote \" + encodeBandInt.length + \" bytes from cp_Long_hi[\" + array.length + \"]\");\n+        final byte[] encodeBandInt2 = this.encodeBandInt(\"cp_Long_lo\", array2, Codec.DELTA5);\n+        outputStream.write(encodeBandInt2);\n+        PackingUtils.log(\"Wrote \" + encodeBandInt2.length + \" bytes from cp_Long_lo[\" + array2.length + \"]\");\n     }\n     \n-    private void writeCpDouble(final OutputStream out) throws IOException, Pack200Exception {\n+    private void writeCpDouble(final OutputStream outputStream) throws IOException, Pack200Exception {\n         PackingUtils.log(\"Writing \" + this.cp_Double.size() + \" Double entries...\");\n-        final int[] highBits = new int[this.cp_Double.size()];\n-        final int[] loBits = new int[this.cp_Double.size()];\n-        int i = 0;\n-        for (final CPDouble dbl : this.cp_Double) {\n-            final long l = Double.doubleToLongBits(dbl.getDouble());\n-            highBits[i] = (int)(l >> 32);\n-            loBits[i] = (int)l;\n-            ++i;\n-        }\n-        byte[] encodedBand = this.encodeBandInt(\"cp_Double_hi\", highBits, Codec.UDELTA5);\n-        out.write(encodedBand);\n-        PackingUtils.log(\"Wrote \" + encodedBand.length + \" bytes from cp_Double_hi[\" + highBits.length + \"]\");\n-        encodedBand = this.encodeBandInt(\"cp_Double_lo\", loBits, Codec.DELTA5);\n-        out.write(encodedBand);\n-        PackingUtils.log(\"Wrote \" + encodedBand.length + \" bytes from cp_Double_lo[\" + loBits.length + \"]\");\n+        final int[] array = new int[this.cp_Double.size()];\n+        final int[] array2 = new int[this.cp_Double.size()];\n+        int n = 0;\n+        final Iterator<CPDouble> iterator = this.cp_Double.iterator();\n+        while (iterator.hasNext()) {\n+            final long doubleToLongBits = Double.doubleToLongBits(((CPDouble)iterator.next()).getDouble());\n+            array[n] = (int)(doubleToLongBits >> 32);\n+            array2[n] = (int)doubleToLongBits;\n+            ++n;\n+        }\n+        final byte[] encodeBandInt = this.encodeBandInt(\"cp_Double_hi\", array, Codec.UDELTA5);\n+        outputStream.write(encodeBandInt);\n+        PackingUtils.log(\"Wrote \" + encodeBandInt.length + \" bytes from cp_Double_hi[\" + array.length + \"]\");\n+        final byte[] encodeBandInt2 = this.encodeBandInt(\"cp_Double_lo\", array2, Codec.DELTA5);\n+        outputStream.write(encodeBandInt2);\n+        PackingUtils.log(\"Wrote \" + encodeBandInt2.length + \" bytes from cp_Double_lo[\" + array2.length + \"]\");\n     }\n     \n-    private void writeCpString(final OutputStream out) throws IOException, Pack200Exception {\n+    private void writeCpString(final OutputStream outputStream) throws IOException, Pack200Exception {\n         PackingUtils.log(\"Writing \" + this.cp_String.size() + \" String entries...\");\n-        final int[] cpString = new int[this.cp_String.size()];\n-        int i = 0;\n-        for (final CPString cpStr : this.cp_String) {\n-            cpString[i] = cpStr.getIndexInCpUtf8();\n-            ++i;\n-        }\n-        final byte[] encodedBand = this.encodeBandInt(\"cpString\", cpString, Codec.UDELTA5);\n-        out.write(encodedBand);\n-        PackingUtils.log(\"Wrote \" + encodedBand.length + \" bytes from cpString[\" + cpString.length + \"]\");\n+        final int[] array = new int[this.cp_String.size()];\n+        int n = 0;\n+        final Iterator<CPString> iterator = this.cp_String.iterator();\n+        while (iterator.hasNext()) {\n+            array[n] = ((CPString)iterator.next()).getIndexInCpUtf8();\n+            ++n;\n+        }\n+        final byte[] encodeBandInt = this.encodeBandInt(\"cpString\", array, Codec.UDELTA5);\n+        outputStream.write(encodeBandInt);\n+        PackingUtils.log(\"Wrote \" + encodeBandInt.length + \" bytes from cpString[\" + array.length + \"]\");\n     }\n     \n-    private void writeCpClass(final OutputStream out) throws IOException, Pack200Exception {\n+    private void writeCpClass(final OutputStream outputStream) throws IOException, Pack200Exception {\n         PackingUtils.log(\"Writing \" + this.cp_Class.size() + \" Class entries...\");\n-        final int[] cpClass = new int[this.cp_Class.size()];\n-        int i = 0;\n-        for (final CPClass cpCl : this.cp_Class) {\n-            cpClass[i] = cpCl.getIndexInCpUtf8();\n-            ++i;\n-        }\n-        final byte[] encodedBand = this.encodeBandInt(\"cpClass\", cpClass, Codec.UDELTA5);\n-        out.write(encodedBand);\n-        PackingUtils.log(\"Wrote \" + encodedBand.length + \" bytes from cpClass[\" + cpClass.length + \"]\");\n+        final int[] array = new int[this.cp_Class.size()];\n+        int n = 0;\n+        final Iterator<CPClass> iterator = this.cp_Class.iterator();\n+        while (iterator.hasNext()) {\n+            array[n] = ((CPClass)iterator.next()).getIndexInCpUtf8();\n+            ++n;\n+        }\n+        final byte[] encodeBandInt = this.encodeBandInt(\"cpClass\", array, Codec.UDELTA5);\n+        outputStream.write(encodeBandInt);\n+        PackingUtils.log(\"Wrote \" + encodeBandInt.length + \" bytes from cpClass[\" + array.length + \"]\");\n     }\n     \n-    private void writeCpSignature(final OutputStream out) throws IOException, Pack200Exception {\n+    private void writeCpSignature(final OutputStream outputStream) throws IOException, Pack200Exception {\n         PackingUtils.log(\"Writing \" + this.cp_Signature.size() + \" Signature entries...\");\n-        final int[] cpSignatureForm = new int[this.cp_Signature.size()];\n-        final List<CPClass> classes = new ArrayList<CPClass>();\n-        int i = 0;\n-        for (final CPSignature cpS : this.cp_Signature) {\n-            classes.addAll(cpS.getClasses());\n-            cpSignatureForm[i] = cpS.getIndexInCpUtf8();\n-            ++i;\n-        }\n-        final int[] cpSignatureClasses = new int[classes.size()];\n-        Arrays.setAll(cpSignatureClasses, j -> ((CPClass)classes.get(j)).getIndex());\n-        byte[] encodedBand = this.encodeBandInt(\"cpSignatureForm\", cpSignatureForm, Codec.DELTA5);\n-        out.write(encodedBand);\n-        PackingUtils.log(\"Wrote \" + encodedBand.length + \" bytes from cpSignatureForm[\" + cpSignatureForm.length + \"]\");\n-        encodedBand = this.encodeBandInt(\"cpSignatureClasses\", cpSignatureClasses, Codec.UDELTA5);\n-        out.write(encodedBand);\n-        PackingUtils.log(\"Wrote \" + encodedBand.length + \" bytes from cpSignatureClasses[\" + cpSignatureClasses.length + \"]\");\n+        final int[] array = new int[this.cp_Signature.size()];\n+        final ArrayList list = new ArrayList();\n+        int n = 0;\n+        for (final CPSignature cpSignature : this.cp_Signature) {\n+            list.addAll(cpSignature.getClasses());\n+            array[n] = cpSignature.getIndexInCpUtf8();\n+            ++n;\n+        }\n+        final int[] array2 = new int[list.size()];\n+        Arrays.setAll(array2, n3 -> ((CPClass)list2.get(n3)).getIndex());\n+        final byte[] encodeBandInt = this.encodeBandInt(\"cpSignatureForm\", array, Codec.DELTA5);\n+        outputStream.write(encodeBandInt);\n+        PackingUtils.log(\"Wrote \" + encodeBandInt.length + \" bytes from cpSignatureForm[\" + array.length + \"]\");\n+        final byte[] encodeBandInt2 = this.encodeBandInt(\"cpSignatureClasses\", array2, Codec.UDELTA5);\n+        outputStream.write(encodeBandInt2);\n+        PackingUtils.log(\"Wrote \" + encodeBandInt2.length + \" bytes from cpSignatureClasses[\" + array2.length + \"]\");\n     }\n     \n-    private void writeCpDescr(final OutputStream out) throws IOException, Pack200Exception {\n+    private void writeCpDescr(final OutputStream outputStream) throws IOException, Pack200Exception {\n         PackingUtils.log(\"Writing \" + this.cp_Descr.size() + \" Descriptor entries...\");\n-        final int[] cpDescrName = new int[this.cp_Descr.size()];\n-        final int[] cpDescrType = new int[this.cp_Descr.size()];\n-        int i = 0;\n-        for (final CPNameAndType nameAndType : this.cp_Descr) {\n-            cpDescrName[i] = nameAndType.getNameIndex();\n-            cpDescrType[i] = nameAndType.getTypeIndex();\n-            ++i;\n-        }\n-        byte[] encodedBand = this.encodeBandInt(\"cp_Descr_Name\", cpDescrName, Codec.DELTA5);\n-        out.write(encodedBand);\n-        PackingUtils.log(\"Wrote \" + encodedBand.length + \" bytes from cp_Descr_Name[\" + cpDescrName.length + \"]\");\n-        encodedBand = this.encodeBandInt(\"cp_Descr_Type\", cpDescrType, Codec.UDELTA5);\n-        out.write(encodedBand);\n-        PackingUtils.log(\"Wrote \" + encodedBand.length + \" bytes from cp_Descr_Type[\" + cpDescrType.length + \"]\");\n-    }\n-    \n-    private void writeCpMethodOrField(final Set<CPMethodOrField> cp, final OutputStream out, final String name) throws IOException, Pack200Exception {\n-        PackingUtils.log(\"Writing \" + cp.size() + \" Method and Field entries...\");\n-        final int[] cp_methodOrField_class = new int[cp.size()];\n-        final int[] cp_methodOrField_desc = new int[cp.size()];\n-        int i = 0;\n-        for (final CPMethodOrField mOrF : cp) {\n-            cp_methodOrField_class[i] = mOrF.getClassIndex();\n-            cp_methodOrField_desc[i] = mOrF.getDescIndex();\n-            ++i;\n-        }\n-        byte[] encodedBand = this.encodeBandInt(name + \"_class\", cp_methodOrField_class, Codec.DELTA5);\n-        out.write(encodedBand);\n-        PackingUtils.log(\"Wrote \" + encodedBand.length + \" bytes from \" + name + \"_class[\" + cp_methodOrField_class.length + \"]\");\n-        encodedBand = this.encodeBandInt(name + \"_desc\", cp_methodOrField_desc, Codec.UDELTA5);\n-        out.write(encodedBand);\n-        PackingUtils.log(\"Wrote \" + encodedBand.length + \" bytes from \" + name + \"_desc[\" + cp_methodOrField_desc.length + \"]\");\n+        final int[] array = new int[this.cp_Descr.size()];\n+        final int[] array2 = new int[this.cp_Descr.size()];\n+        int n = 0;\n+        for (final CPNameAndType cpNameAndType : this.cp_Descr) {\n+            array[n] = cpNameAndType.getNameIndex();\n+            array2[n] = cpNameAndType.getTypeIndex();\n+            ++n;\n+        }\n+        final byte[] encodeBandInt = this.encodeBandInt(\"cp_Descr_Name\", array, Codec.DELTA5);\n+        outputStream.write(encodeBandInt);\n+        PackingUtils.log(\"Wrote \" + encodeBandInt.length + \" bytes from cp_Descr_Name[\" + array.length + \"]\");\n+        final byte[] encodeBandInt2 = this.encodeBandInt(\"cp_Descr_Type\", array2, Codec.UDELTA5);\n+        outputStream.write(encodeBandInt2);\n+        PackingUtils.log(\"Wrote \" + encodeBandInt2.length + \" bytes from cp_Descr_Type[\" + array2.length + \"]\");\n+    }\n+    \n+    private void writeCpMethodOrField(final Set<CPMethodOrField> set, final OutputStream outputStream, final String s) throws IOException, Pack200Exception {\n+        PackingUtils.log(\"Writing \" + set.size() + \" Method and Field entries...\");\n+        final int[] array = new int[set.size()];\n+        final int[] array2 = new int[set.size()];\n+        int n = 0;\n+        for (final CPMethodOrField cpMethodOrField : set) {\n+            array[n] = cpMethodOrField.getClassIndex();\n+            array2[n] = cpMethodOrField.getDescIndex();\n+            ++n;\n+        }\n+        final byte[] encodeBandInt = this.encodeBandInt(s + \"_class\", array, Codec.DELTA5);\n+        outputStream.write(encodeBandInt);\n+        PackingUtils.log(\"Wrote \" + encodeBandInt.length + \" bytes from \" + s + \"_class[\" + array.length + \"]\");\n+        final byte[] encodeBandInt2 = this.encodeBandInt(s + \"_desc\", array2, Codec.UDELTA5);\n+        outputStream.write(encodeBandInt2);\n+        PackingUtils.log(\"Wrote \" + encodeBandInt2.length + \" bytes from \" + s + \"_desc[\" + array2.length + \"]\");\n     }\n     \n     public void finaliseBands() {\n         this.addCPUtf8(\"\");\n         this.removeSignaturesFromCpUTF8();\n         this.addIndices();\n         this.segmentHeader.setCp_Utf8_count(this.cp_Utf8.size());\n@@ -326,270 +330,270 @@\n         this.segmentHeader.setCp_Descr_count(this.cp_Descr.size());\n         this.segmentHeader.setCp_Field_count(this.cp_Field.size());\n         this.segmentHeader.setCp_Method_count(this.cp_Method.size());\n         this.segmentHeader.setCp_Imethod_count(this.cp_Imethod.size());\n     }\n     \n     private void removeSignaturesFromCpUTF8() {\n-        this.cp_Signature.forEach(signature -> {\n-            final String sigStr = signature.getUnderlyingString();\n-            final CPUTF8 utf8 = signature.getSignatureForm();\n-            final String form = utf8.getUnderlyingString();\n-            if (!sigStr.equals(form)) {\n-                this.removeCpUtf8(sigStr);\n+        this.cp_Signature.forEach(cpSignature -> {\n+            cpSignature.getUnderlyingString();\n+            final String s;\n+            if (!s.equals(cpSignature.getSignatureForm().getUnderlyingString())) {\n+                this.removeCpUtf8(s);\n             }\n         });\n     }\n     \n     private void addIndices() {\n-        for (final Set<? extends ConstantPoolEntry> set : Arrays.asList(this.cp_Utf8, this.cp_Int, this.cp_Float, this.cp_Long, this.cp_Double, this.cp_String, this.cp_Class, this.cp_Signature, this.cp_Descr, this.cp_Field, this.cp_Method, this.cp_Imethod)) {\n-            int j = 0;\n-            for (final ConstantPoolEntry entry : set) {\n-                entry.setIndex(j);\n-                ++j;\n-            }\n-        }\n-        final Map<CPClass, Integer> classNameToIndex = new HashMap<CPClass, Integer>();\n-        this.cp_Field.forEach(mOrF -> {\n-            final CPClass cpClassName = mOrF.getClassName();\n-            final Integer index = Integer.valueOf(classNameToIndex.get((Object)cpClassName));\n-            if (index == null) {\n-                classNameToIndex.put(cpClassName, Integer.valueOf(1));\n-                mOrF.setIndexInClass(0);\n+        for (final Set set : Arrays.asList(this.cp_Utf8, this.cp_Int, this.cp_Float, this.cp_Long, this.cp_Double, this.cp_String, this.cp_Class, this.cp_Signature, this.cp_Descr, this.cp_Field, this.cp_Method, this.cp_Imethod)) {\n+            int index = 0;\n+            final Iterator iterator2 = set.iterator();\n+            while (iterator2.hasNext()) {\n+                ((ConstantPoolEntry)iterator2.next()).setIndex(index);\n+                ++index;\n+            }\n+        }\n+        final HashMap hashMap = new HashMap();\n+        this.cp_Field.forEach(cpMethodOrField -> {\n+            cpMethodOrField.getClassName();\n+            final CPClass cpClass;\n+            final Integer n = Integer.valueOf(map.get((Object)cpClass));\n+            if (n == null) {\n+                map.put(cpClass, Integer.valueOf(1));\n+                cpMethodOrField.setIndexInClass(0);\n             }\n             else {\n-                final int theIndex = (int)index;\n-                mOrF.setIndexInClass(theIndex);\n-                classNameToIndex.put(cpClassName, Integer.valueOf(theIndex + 1));\n+                n.intValue();\n+                final int indexInClass;\n+                cpMethodOrField.setIndexInClass(indexInClass);\n+                map.put(cpClass, Integer.valueOf(indexInClass + 1));\n             }\n             return;\n         });\n-        classNameToIndex.clear();\n-        final Map<CPClass, Integer> classNameToConstructorIndex = new HashMap<CPClass, Integer>();\n-        this.cp_Method.forEach(mOrF -> {\n-            final CPClass cpClassName2 = mOrF.getClassName();\n-            final Integer index2 = Integer.valueOf(classNameToIndex.get((Object)cpClassName2));\n-            if (index2 == null) {\n-                classNameToIndex.put(cpClassName2, Integer.valueOf(1));\n-                mOrF.setIndexInClass(0);\n+        hashMap.clear();\n+        this.cp_Method.forEach(cpMethodOrField2 -> {\n+            final Object o = new HashMap();\n+            cpMethodOrField2.getClassName();\n+            final CPClass cpClass2;\n+            final Integer n2 = Integer.valueOf(map2.get((Object)cpClass2));\n+            if (n2 == null) {\n+                map2.put(cpClass2, Integer.valueOf(1));\n+                cpMethodOrField2.setIndexInClass(0);\n             }\n             else {\n-                final int theIndex2 = (int)index2;\n-                mOrF.setIndexInClass(theIndex2);\n-                classNameToIndex.put(cpClassName2, Integer.valueOf(theIndex2 + 1));\n-            }\n-            if (mOrF.getDesc().getName().equals(\"<init>\")) {\n-                final Integer constructorIndex = Integer.valueOf(classNameToConstructorIndex.get((Object)cpClassName2));\n-                if (constructorIndex == null) {\n-                    classNameToConstructorIndex.put(cpClassName2, Integer.valueOf(1));\n-                    mOrF.setIndexInClassForConstructor(0);\n+                n2.intValue();\n+                final int indexInClass2;\n+                cpMethodOrField2.setIndexInClass(indexInClass2);\n+                map2.put(cpClass2, Integer.valueOf(indexInClass2 + 1));\n+            }\n+            if (cpMethodOrField2.getDesc().getName().equals(\"<init>\")) {\n+                final Integer n3 = Integer.valueOf(map3.get((Object)cpClass2));\n+                if (n3 == null) {\n+                    map3.put(cpClass2, Integer.valueOf(1));\n+                    cpMethodOrField2.setIndexInClassForConstructor(0);\n                 }\n                 else {\n-                    final int theIndex3 = (int)constructorIndex;\n-                    mOrF.setIndexInClassForConstructor(theIndex3);\n-                    classNameToConstructorIndex.put(cpClassName2, Integer.valueOf(theIndex3 + 1));\n+                    n3.intValue();\n+                    final int indexInClassForConstructor;\n+                    cpMethodOrField2.setIndexInClassForConstructor(indexInClassForConstructor);\n+                    map3.put(cpClass2, Integer.valueOf(indexInClassForConstructor + 1));\n                 }\n             }\n         });\n     }\n     \n-    private void removeCpUtf8(final String string) {\n-        final CPUTF8 utf8 = (CPUTF8)this.stringsToCpUtf8.get(string);\n-        if (utf8 != null && this.stringsToCpClass.get(string) == null) {\n-            this.stringsToCpUtf8.remove(string);\n-            this.cp_Utf8.remove(utf8);\n+    private void removeCpUtf8(final String s) {\n+        final CPUTF8 cputf8 = (CPUTF8)this.stringsToCpUtf8.get(s);\n+        if (cputf8 != null && this.stringsToCpClass.get(s) == null) {\n+            this.stringsToCpUtf8.remove(s);\n+            this.cp_Utf8.remove(cputf8);\n         }\n     }\n     \n-    void addCPUtf8(final String utf8) {\n-        this.getCPUtf8(utf8);\n+    void addCPUtf8(final String s) {\n+        this.getCPUtf8(s);\n     }\n     \n-    public CPUTF8 getCPUtf8(final String utf8) {\n-        if (utf8 == null) {\n+    public CPUTF8 getCPUtf8(final String s) {\n+        if (s == null) {\n             return null;\n         }\n-        CPUTF8 cpUtf8 = (CPUTF8)this.stringsToCpUtf8.get(utf8);\n-        if (cpUtf8 == null) {\n-            cpUtf8 = new CPUTF8(utf8);\n-            this.cp_Utf8.add(cpUtf8);\n-            this.stringsToCpUtf8.put(utf8, cpUtf8);\n+        CPUTF8 cputf8 = (CPUTF8)this.stringsToCpUtf8.get(s);\n+        if (cputf8 == null) {\n+            cputf8 = new CPUTF8(s);\n+            this.cp_Utf8.add(cputf8);\n+            this.stringsToCpUtf8.put(s, cputf8);\n         }\n-        return cpUtf8;\n+        return cputf8;\n     }\n     \n-    public CPSignature getCPSignature(final String signature) {\n-        if (signature == null) {\n+    public CPSignature getCPSignature(final String s) {\n+        if (s == null) {\n             return null;\n         }\n-        CPSignature cpS = (CPSignature)this.stringsToCpSignature.get(signature);\n-        if (cpS == null) {\n-            final List<CPClass> cpClasses = new ArrayList<CPClass>();\n-            CPUTF8 signatureUTF8;\n-            if (signature.length() > 1 && signature.indexOf(76) != -1) {\n-                final List<String> classes = new ArrayList<String>();\n-                final char[] chars = signature.toCharArray();\n-                final StringBuilder signatureString = new StringBuilder();\n-                for (int i = 0; i < chars.length; ++i) {\n-                    signatureString.append(chars[i]);\n-                    if (chars[i] == 'L') {\n-                        final StringBuilder className = new StringBuilder();\n-                        for (int j = i + 1; j < chars.length; ++j) {\n-                            final char c = chars[j];\n+        CPSignature cpSignature = (CPSignature)this.stringsToCpSignature.get(s);\n+        if (cpSignature == null) {\n+            final ArrayList list = new ArrayList();\n+            CPUTF8 cputf8;\n+            if (s.length() > 1 && s.indexOf(76) != -1) {\n+                final ArrayList list2 = new ArrayList();\n+                final char[] charArray = s.toCharArray();\n+                final StringBuilder sb = new StringBuilder();\n+                for (int i = 0; i < charArray.length; ++i) {\n+                    sb.append(charArray[i]);\n+                    if (charArray[i] == 'L') {\n+                        final StringBuilder sb2 = new StringBuilder();\n+                        for (int j = i + 1; j < charArray.length; ++j) {\n+                            final char c = charArray[j];\n                             if (!Character.isLetter(c) && !Character.isDigit(c) && c != '/' && c != '$' && c != '_') {\n-                                classes.add(className.toString());\n+                                list2.add(sb2.toString());\n                                 i = j - 1;\n                                 break;\n                             }\n-                            className.append(c);\n+                            sb2.append(c);\n                         }\n                     }\n                 }\n-                this.removeCpUtf8(signature);\n-                for (String className2 : classes) {\n+                this.removeCpUtf8(s);\n+                for (final String s2 : list2) {\n                     CPClass cpClass = null;\n-                    if (className2 != null) {\n-                        className2 = className2.replace('.', '/');\n-                        cpClass = this.stringsToCpClass.get(className2);\n+                    if (s2 != null) {\n+                        final String replace = s2.replace('.', '/');\n+                        cpClass = this.stringsToCpClass.get(replace);\n                         if (cpClass == null) {\n-                            final CPUTF8 cpUtf8 = this.getCPUtf8(className2);\n-                            cpClass = new CPClass(cpUtf8);\n+                            cpClass = new CPClass(this.getCPUtf8(replace));\n                             this.cp_Class.add(cpClass);\n-                            this.stringsToCpClass.put(className2, cpClass);\n+                            this.stringsToCpClass.put(replace, cpClass);\n                         }\n                     }\n-                    cpClasses.add(cpClass);\n+                    list.add(cpClass);\n                 }\n-                signatureUTF8 = this.getCPUtf8(signatureString.toString());\n+                cputf8 = this.getCPUtf8(sb.toString());\n             }\n             else {\n-                signatureUTF8 = this.getCPUtf8(signature);\n+                cputf8 = this.getCPUtf8(s);\n             }\n-            cpS = new CPSignature(signature, signatureUTF8, (List)cpClasses);\n-            this.cp_Signature.add(cpS);\n-            this.stringsToCpSignature.put(signature, cpS);\n+            cpSignature = new CPSignature(s, cputf8, (List)list);\n+            this.cp_Signature.add(cpSignature);\n+            this.stringsToCpSignature.put(s, cpSignature);\n         }\n-        return cpS;\n+        return cpSignature;\n     }\n     \n-    public CPClass getCPClass(String className) {\n-        if (className == null) {\n+    public CPClass getCPClass(String replace) {\n+        if (replace == null) {\n             return null;\n         }\n-        className = className.replace('.', '/');\n-        CPClass cpClass = (CPClass)this.stringsToCpClass.get(className);\n+        replace = replace.replace('.', '/');\n+        CPClass cpClass = (CPClass)this.stringsToCpClass.get(replace);\n         if (cpClass == null) {\n-            final CPUTF8 cpUtf8 = this.getCPUtf8(className);\n-            cpClass = new CPClass(cpUtf8);\n+            cpClass = new CPClass(this.getCPUtf8(replace));\n             this.cp_Class.add(cpClass);\n-            this.stringsToCpClass.put(className, cpClass);\n+            this.stringsToCpClass.put(replace, cpClass);\n         }\n         if (cpClass.isInnerClass()) {\n             this.segment.getClassBands().currentClassReferencesInnerClass(cpClass);\n         }\n         return cpClass;\n     }\n     \n-    public void addCPClass(final String className) {\n-        this.getCPClass(className);\n+    public void addCPClass(final String s) {\n+        this.getCPClass(s);\n     }\n     \n-    public CPNameAndType getCPNameAndType(final String name, final String signature) {\n-        final String descr = name + \":\" + signature;\n-        CPNameAndType nameAndType = (CPNameAndType)this.stringsToCpNameAndType.get(descr);\n-        if (nameAndType == null) {\n-            nameAndType = new CPNameAndType(this.getCPUtf8(name), this.getCPSignature(signature));\n-            this.stringsToCpNameAndType.put(descr, nameAndType);\n-            this.cp_Descr.add(nameAndType);\n-        }\n-        return nameAndType;\n-    }\n-    \n-    public CPMethodOrField getCPField(final CPClass cpClass, final String name, final String desc) {\n-        final String key = cpClass.toString() + \":\" + name + \":\" + desc;\n-        CPMethodOrField cpF = (CPMethodOrField)this.stringsToCpField.get(key);\n-        if (cpF == null) {\n-            final CPNameAndType nAndT = this.getCPNameAndType(name, desc);\n-            cpF = new CPMethodOrField(cpClass, nAndT);\n-            this.cp_Field.add(cpF);\n-            this.stringsToCpField.put(key, cpF);\n-        }\n-        return cpF;\n-    }\n-    \n-    public CPConstant<?> getConstant(final Object value) {\n-        CPConstant<?> constant = (CPConstant<?>)this.objectsToCPConstant.get(value);\n-        if (constant == null) {\n-            if (value instanceof Integer) {\n-                constant = (CPConstant<?>)new CPInt((int)value);\n-                this.cp_Int.add((CPInt)constant);\n-            }\n-            else if (value instanceof Long) {\n-                constant = (CPConstant<?>)new CPLong((long)value);\n-                this.cp_Long.add((CPLong)constant);\n-            }\n-            else if (value instanceof Float) {\n-                constant = (CPConstant<?>)new CPFloat((float)value);\n-                this.cp_Float.add((CPFloat)constant);\n-            }\n-            else if (value instanceof Double) {\n-                constant = (CPConstant<?>)new CPDouble((double)value);\n-                this.cp_Double.add((CPDouble)constant);\n-            }\n-            else if (value instanceof String) {\n-                constant = (CPConstant<?>)new CPString(this.getCPUtf8((String)value));\n-                this.cp_String.add((CPString)constant);\n-            }\n-            else if (value instanceof Type) {\n-                String className = ((Type)value).getClassName();\n-                if (className.endsWith(\"[]\")) {\n-                    for (className = \"[L\" + className.substring(0, className.length() - 2); className.endsWith(\"[]\"); className = \"[\" + className.substring(0, className.length() - 2)) {}\n-                    className += \";\";\n+    public CPNameAndType getCPNameAndType(final String str, final String str2) {\n+        final String string = str + \":\" + str2;\n+        CPNameAndType cpNameAndType = (CPNameAndType)this.stringsToCpNameAndType.get(string);\n+        if (cpNameAndType == null) {\n+            cpNameAndType = new CPNameAndType(this.getCPUtf8(str), this.getCPSignature(str2));\n+            this.stringsToCpNameAndType.put(string, cpNameAndType);\n+            this.cp_Descr.add(cpNameAndType);\n+        }\n+        return cpNameAndType;\n+    }\n+    \n+    public CPMethodOrField getCPField(final CPClass cpClass, final String str, final String str2) {\n+        final String string = cpClass.toString() + \":\" + str + \":\" + str2;\n+        CPMethodOrField cpMethodOrField = (CPMethodOrField)this.stringsToCpField.get(string);\n+        if (cpMethodOrField == null) {\n+            cpMethodOrField = new CPMethodOrField(cpClass, this.getCPNameAndType(str, str2));\n+            this.cp_Field.add(cpMethodOrField);\n+            this.stringsToCpField.put(string, cpMethodOrField);\n+        }\n+        return cpMethodOrField;\n+    }\n+    \n+    public CPConstant<?> getConstant(final Object o) {\n+        Object cpClass = (CPConstant)this.objectsToCPConstant.get(o);\n+        if (cpClass == null) {\n+            if (o instanceof Integer) {\n+                cpClass = new CPInt((int)o);\n+                this.cp_Int.add((CPInt)cpClass);\n+            }\n+            else if (o instanceof Long) {\n+                cpClass = new CPLong((long)o);\n+                this.cp_Long.add((CPLong)cpClass);\n+            }\n+            else if (o instanceof Float) {\n+                cpClass = new CPFloat((float)o);\n+                this.cp_Float.add((CPFloat)cpClass);\n+            }\n+            else if (o instanceof Double) {\n+                cpClass = new CPDouble((double)o);\n+                this.cp_Double.add((CPDouble)cpClass);\n+            }\n+            else if (o instanceof String) {\n+                cpClass = new CPString(this.getCPUtf8((String)o));\n+                this.cp_String.add((CPString)cpClass);\n+            }\n+            else if (o instanceof Type) {\n+                String s = ((Type)o).getClassName();\n+                if (s.endsWith(\"[]\")) {\n+                    String str;\n+                    for (str = \"[L\" + s.substring(0, s.length() - 2); str.endsWith(\"[]\"); str = \"[\" + str.substring(0, str.length() - 2)) {}\n+                    s = str + \";\";\n                 }\n-                constant = (CPConstant<?>)this.getCPClass(className);\n+                cpClass = this.getCPClass(s);\n             }\n-            this.objectsToCPConstant.put(value, constant);\n+            this.objectsToCPConstant.put(o, (CPConstant<?>)cpClass);\n         }\n-        return constant;\n+        return (CPConstant<?>)cpClass;\n     }\n     \n-    public CPMethodOrField getCPMethod(final CPClass cpClass, final String name, final String desc) {\n-        final String key = cpClass.toString() + \":\" + name + \":\" + desc;\n-        CPMethodOrField cpM = (CPMethodOrField)this.stringsToCpMethod.get(key);\n-        if (cpM == null) {\n-            final CPNameAndType nAndT = this.getCPNameAndType(name, desc);\n-            cpM = new CPMethodOrField(cpClass, nAndT);\n-            this.cp_Method.add(cpM);\n-            this.stringsToCpMethod.put(key, cpM);\n+    public CPMethodOrField getCPMethod(final CPClass cpClass, final String str, final String str2) {\n+        final String string = cpClass.toString() + \":\" + str + \":\" + str2;\n+        CPMethodOrField cpMethodOrField = (CPMethodOrField)this.stringsToCpMethod.get(string);\n+        if (cpMethodOrField == null) {\n+            cpMethodOrField = new CPMethodOrField(cpClass, this.getCPNameAndType(str, str2));\n+            this.cp_Method.add(cpMethodOrField);\n+            this.stringsToCpMethod.put(string, cpMethodOrField);\n         }\n-        return cpM;\n+        return cpMethodOrField;\n     }\n     \n-    public CPMethodOrField getCPIMethod(final CPClass cpClass, final String name, final String desc) {\n-        final String key = cpClass.toString() + \":\" + name + \":\" + desc;\n-        CPMethodOrField cpIM = (CPMethodOrField)this.stringsToCpIMethod.get(key);\n-        if (cpIM == null) {\n-            final CPNameAndType nAndT = this.getCPNameAndType(name, desc);\n-            cpIM = new CPMethodOrField(cpClass, nAndT);\n-            this.cp_Imethod.add(cpIM);\n-            this.stringsToCpIMethod.put(key, cpIM);\n+    public CPMethodOrField getCPIMethod(final CPClass cpClass, final String str, final String str2) {\n+        final String string = cpClass.toString() + \":\" + str + \":\" + str2;\n+        CPMethodOrField cpMethodOrField = (CPMethodOrField)this.stringsToCpIMethod.get(string);\n+        if (cpMethodOrField == null) {\n+            cpMethodOrField = new CPMethodOrField(cpClass, this.getCPNameAndType(str, str2));\n+            this.cp_Imethod.add(cpMethodOrField);\n+            this.stringsToCpIMethod.put(string, cpMethodOrField);\n         }\n-        return cpIM;\n+        return cpMethodOrField;\n     }\n     \n-    public CPMethodOrField getCPField(final String owner, final String name, final String desc) {\n-        return this.getCPField(this.getCPClass(owner), name, desc);\n+    public CPMethodOrField getCPField(final String s, final String s2, final String s3) {\n+        return this.getCPField(this.getCPClass(s), s2, s3);\n     }\n     \n-    public CPMethodOrField getCPMethod(final String owner, final String name, final String desc) {\n-        return this.getCPMethod(this.getCPClass(owner), name, desc);\n+    public CPMethodOrField getCPMethod(final String s, final String s2, final String s3) {\n+        return this.getCPMethod(this.getCPClass(s), s2, s3);\n     }\n     \n-    public CPMethodOrField getCPIMethod(final String owner, final String name, final String desc) {\n-        return this.getCPIMethod(this.getCPClass(owner), name, desc);\n+    public CPMethodOrField getCPIMethod(final String s, final String s2, final String s3) {\n+        return this.getCPIMethod(this.getCPClass(s), s2, s3);\n     }\n     \n-    public boolean existsCpClass(final String className) {\n-        final CPClass cpClass = (CPClass)this.stringsToCpClass.get(className);\n-        return cpClass != null;\n+    public boolean existsCpClass(final String s) {\n+        return this.stringsToCpClass.get(s) != null;\n     }\n }\n"}]}
