{"diffoscope-json-version": 1, "source1": "first/ToStringStyle.class", "source2": "second/ToStringStyle.class", "unified_diff": null, "details": [{"source1": "procyon -ec {}", "source2": "procyon -ec {}", "unified_diff": "@@ -37,14 +37,25 @@\n     private boolean defaultFullDetail;\n     private String nullText;\n     private String sizeStartText;\n     private String sizeEndText;\n     private String summaryObjectStartText;\n     private String summaryObjectEndText;\n     \n+    static {\n+        DEFAULT_STYLE = (ToStringStyle)new ToStringStyle.DefaultToStringStyle();\n+        MULTI_LINE_STYLE = (ToStringStyle)new ToStringStyle.MultiLineToStringStyle();\n+        NO_FIELD_NAMES_STYLE = (ToStringStyle)new ToStringStyle.NoFieldNameToStringStyle();\n+        SHORT_PREFIX_STYLE = (ToStringStyle)new ToStringStyle.ShortPrefixToStringStyle();\n+        SIMPLE_STYLE = (ToStringStyle)new ToStringStyle.SimpleToStringStyle();\n+        NO_CLASS_NAME_STYLE = (ToStringStyle)new ToStringStyle.NoClassNameToStringStyle();\n+        JSON_STYLE = (ToStringStyle)new ToStringStyle.JsonToStringStyle();\n+        REGISTRY = new ThreadLocal<WeakHashMap<Object, Object>>();\n+    }\n+    \n     static Map<Object, Object> getRegistry() {\n         return ToStringStyle.REGISTRY.get();\n     }\n     \n     static boolean isRegistered(final Object value) {\n         final Map<Object, Object> m = getRegistry();\n         return m != null && m.containsKey(value);\n@@ -261,14 +272,15 @@\n             else {\n                 this.appendSummary(buffer, fieldName, value);\n             }\n         }\n         finally {\n             unregister(value);\n         }\n+        unregister(value);\n     }\n     \n     protected void appendCyclicObject(final StringBuffer buffer, final String fieldName, final Object value) {\n         ObjectUtils.identityToString(buffer, value);\n     }\n     \n     protected void appendDetail(final StringBuffer buffer, final String fieldName, final Object value) {\n@@ -908,19 +920,8 @@\n     \n     protected void setSummaryObjectEndText(String summaryObjectEndText) {\n         if (summaryObjectEndText == null) {\n             summaryObjectEndText = \"\";\n         }\n         this.summaryObjectEndText = summaryObjectEndText;\n     }\n-    \n-    static {\n-        DEFAULT_STYLE = (ToStringStyle)new ToStringStyle.DefaultToStringStyle();\n-        MULTI_LINE_STYLE = (ToStringStyle)new ToStringStyle.MultiLineToStringStyle();\n-        NO_FIELD_NAMES_STYLE = (ToStringStyle)new ToStringStyle.NoFieldNameToStringStyle();\n-        SHORT_PREFIX_STYLE = (ToStringStyle)new ToStringStyle.ShortPrefixToStringStyle();\n-        SIMPLE_STYLE = (ToStringStyle)new ToStringStyle.SimpleToStringStyle();\n-        NO_CLASS_NAME_STYLE = (ToStringStyle)new ToStringStyle.NoClassNameToStringStyle();\n-        JSON_STYLE = (ToStringStyle)new ToStringStyle.JsonToStringStyle();\n-        REGISTRY = new ThreadLocal<WeakHashMap<Object, Object>>();\n-    }\n }\n"}]}
