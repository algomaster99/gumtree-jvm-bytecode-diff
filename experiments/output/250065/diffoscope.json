{"diffoscope-json-version": 1, "source1": "first/EmptyForIteratorPadCheck.class", "source2": "second/EmptyForIteratorPadCheck.class", "unified_diff": null, "details": [{"source1": "procyon -ec {}", "source2": "procyon -ec {}", "unified_diff": "@@ -15,39 +15,39 @@\n     private static final String SEMICOLON = \";\";\n     private PadOption option;\n     \n     public EmptyForIteratorPadCheck() {\n         this.option = PadOption.NOSPACE;\n     }\n     \n-    public void setOption(final String optionStr) {\n-        this.option = PadOption.valueOf(optionStr.trim().toUpperCase(Locale.ENGLISH));\n+    public void setOption(final String s) {\n+        this.option = PadOption.valueOf(s.trim().toUpperCase(Locale.ENGLISH));\n     }\n     \n     public int[] getDefaultTokens() {\n         return this.getRequiredTokens();\n     }\n     \n     public int[] getAcceptableTokens() {\n         return this.getRequiredTokens();\n     }\n     \n     public int[] getRequiredTokens() {\n         return new int[] { 37 };\n     }\n     \n-    public void visitToken(final DetailAST ast) {\n-        if (!ast.hasChildren()) {\n-            final DetailAST semi = ast.getPreviousSibling();\n-            final int[] line = this.getLineCodePoints(semi.getLineNo() - 1);\n-            final int after = semi.getColumnNo() + 1;\n-            if (after < line.length) {\n-                if (this.option == PadOption.NOSPACE && CommonUtil.isCodePointWhitespace(line, after)) {\n-                    this.log(ast, \"ws.followed\", new Object[] { \";\" });\n+    public void visitToken(final DetailAST detailAST) {\n+        if (!detailAST.hasChildren()) {\n+            final DetailAST previousSibling = detailAST.getPreviousSibling();\n+            final int[] lineCodePoints = this.getLineCodePoints(previousSibling.getLineNo() - 1);\n+            final int n = previousSibling.getColumnNo() + 1;\n+            if (n < lineCodePoints.length) {\n+                if (this.option == PadOption.NOSPACE && CommonUtil.isCodePointWhitespace(lineCodePoints, n)) {\n+                    this.log(detailAST, \"ws.followed\", new Object[] { \";\" });\n                 }\n-                else if (this.option == PadOption.SPACE && !CommonUtil.isCodePointWhitespace(line, after)) {\n-                    this.log(ast, \"ws.notFollowed\", new Object[] { \";\" });\n+                else if (this.option == PadOption.SPACE && !CommonUtil.isCodePointWhitespace(lineCodePoints, n)) {\n+                    this.log(detailAST, \"ws.notFollowed\", new Object[] { \";\" });\n                 }\n             }\n         }\n     }\n }\n"}]}
