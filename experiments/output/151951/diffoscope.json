{"diffoscope-json-version": 1, "source1": "first/UnsynchronizedByteArrayOutputStream.class", "source2": "second/UnsynchronizedByteArrayOutputStream.class", "unified_diff": null, "details": [{"source1": "procyon -ec {}", "source2": "procyon -ec {}", "unified_diff": "@@ -50,17 +50,38 @@\n     }\n     \n     public static InputStream toBufferedInputStream(final InputStream input) throws IOException {\n         return toBufferedInputStream(input, 1024);\n     }\n     \n     public static InputStream toBufferedInputStream(final InputStream input, final int size) throws IOException {\n-        try (final UnsynchronizedByteArrayOutputStream output = new UnsynchronizedByteArrayOutputStream(size)) {\n-            output.write(input);\n-            return output.toInputStream();\n+        Throwable t = null;\n+        try {\n+            final UnsynchronizedByteArrayOutputStream output = new UnsynchronizedByteArrayOutputStream(size);\n+            try {\n+                output.write(input);\n+                return output.toInputStream();\n+            }\n+            finally {\n+                if (output != null) {\n+                    output.close();\n+                }\n+            }\n+        }\n+        finally {\n+            if (t == null) {\n+                final Throwable exception;\n+                t = exception;\n+            }\n+            else {\n+                final Throwable exception;\n+                if (t != exception) {\n+                    t.addSuppressed(exception);\n+                }\n+            }\n         }\n     }\n     \n     public InputStream toInputStream() {\n         return this.toInputStream(UnsynchronizedByteArrayInputStream::new);\n     }\n     \n"}]}
