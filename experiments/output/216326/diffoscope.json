{"diffoscope-json-version": 1, "source1": "first/Code.class", "source2": "second/Code.class", "unified_diff": null, "details": [{"source1": "procyon -ec {}", "source2": "procyon -ec {}", "unified_diff": "@@ -11,83 +11,85 @@\n {\n     private int maxStack;\n     private int maxLocals;\n     private byte[] code;\n     private CodeException[] exceptionTable;\n     private Attribute[] attributes;\n     \n-    public Code(final Code c) {\n-        this(c.getNameIndex(), c.getLength(), c.getMaxStack(), c.getMaxLocals(), c.getCode(), c.getExceptionTable(), c.getAttributes(), c.getConstantPool());\n+    public Code(final Code code) {\n+        this(code.getNameIndex(), code.getLength(), code.getMaxStack(), code.getMaxLocals(), code.getCode(), code.getExceptionTable(), code.getAttributes(), code.getConstantPool());\n     }\n     \n-    Code(final int nameIndex, final int length, final DataInput file, final ConstantPool constantPool) throws IOException {\n-        this(nameIndex, length, file.readUnsignedShort(), file.readUnsignedShort(), null, null, null, constantPool);\n-        final int codeLength = file.readInt();\n-        file.readFully(this.code = new byte[codeLength]);\n-        final int exceptionTableLength = file.readUnsignedShort();\n-        this.exceptionTable = new CodeException[exceptionTableLength];\n-        for (int i = 0; i < exceptionTableLength; ++i) {\n-            this.exceptionTable[i] = new CodeException(file);\n-        }\n-        final int attributesCount = file.readUnsignedShort();\n-        this.attributes = new Attribute[attributesCount];\n-        for (int j = 0; j < attributesCount; ++j) {\n-            this.attributes[j] = Attribute.readAttribute(file, constantPool);\n+    Code(final int n, final int length, final DataInput dataInput, final ConstantPool constantPool) throws IOException {\n+        this(n, length, dataInput.readUnsignedShort(), dataInput.readUnsignedShort(), null, null, null, constantPool);\n+        dataInput.readFully(this.code = new byte[dataInput.readInt()]);\n+        final int unsignedShort = dataInput.readUnsignedShort();\n+        this.exceptionTable = new CodeException[unsignedShort];\n+        for (int i = 0; i < unsignedShort; ++i) {\n+            this.exceptionTable[i] = new CodeException(dataInput);\n+        }\n+        final int unsignedShort2 = dataInput.readUnsignedShort();\n+        this.attributes = new Attribute[unsignedShort2];\n+        for (int j = 0; j < unsignedShort2; ++j) {\n+            this.attributes[j] = Attribute.readAttribute(dataInput, constantPool);\n         }\n         super.setLength(length);\n     }\n     \n-    public Code(final int nameIndex, final int length, final int maxStack, final int maxLocals, final byte[] code, final CodeException[] exceptionTable, final Attribute[] attributes, final ConstantPool constantPool) {\n-        super((byte)2, nameIndex, length, constantPool);\n+    public Code(final int n, final int n2, final int maxStack, final int maxLocals, final byte[] array, final CodeException[] array2, final Attribute[] array3, final ConstantPool constantPool) {\n+        super((byte)2, n, n2, constantPool);\n         this.maxStack = maxStack;\n         this.maxLocals = maxLocals;\n-        this.code = ((code != null) ? code : ArrayUtils.EMPTY_BYTE_ARRAY);\n-        this.exceptionTable = ((exceptionTable != null) ? exceptionTable : CodeException.EMPTY_CODE_EXCEPTION_ARRAY);\n-        this.attributes = ((attributes != null) ? attributes : Code.EMPTY_ARRAY);\n+        this.code = ((array != null) ? array : ArrayUtils.EMPTY_BYTE_ARRAY);\n+        this.exceptionTable = ((array2 != null) ? array2 : CodeException.EMPTY_CODE_EXCEPTION_ARRAY);\n+        this.attributes = ((array3 != null) ? array3 : Code.EMPTY_ARRAY);\n         super.setLength(this.calculateLength());\n     }\n     \n-    public void accept(final Visitor v) {\n-        v.visitCode(this);\n+    public void accept(final Visitor visitor) {\n+        visitor.visitCode(this);\n     }\n     \n     private int calculateLength() {\n-        int len = 0;\n+        int n = 0;\n         if (this.attributes != null) {\n-            for (final Attribute attribute : this.attributes) {\n-                len += attribute.getLength() + 6;\n+            final Attribute[] attributes = this.attributes;\n+            for (int length = attributes.length, i = 0; i < length; ++i) {\n+                n += attributes[i].getLength() + 6;\n             }\n         }\n-        return len + this.getInternalLength();\n+        return n + this.getInternalLength();\n     }\n     \n     public Attribute copy(final ConstantPool constantPool) {\n-        final Code c = (Code)this.clone();\n+        final Code code = (Code)this.clone();\n         if (this.code != null) {\n-            c.code = this.code.clone();\n+            code.code = this.code.clone();\n         }\n-        c.setConstantPool(constantPool);\n-        Arrays.setAll(c.exceptionTable = new CodeException[this.exceptionTable.length], i -> this.exceptionTable[i].copy());\n-        Arrays.setAll(c.attributes = new Attribute[this.attributes.length], i -> this.attributes[i].copy(constantPool));\n-        return c;\n-    }\n-    \n-    public void dump(final DataOutputStream file) throws IOException {\n-        super.dump(file);\n-        file.writeShort(this.maxStack);\n-        file.writeShort(this.maxLocals);\n-        file.writeInt(this.code.length);\n-        file.write(this.code, 0, this.code.length);\n-        file.writeShort(this.exceptionTable.length);\n-        for (final CodeException exception : this.exceptionTable) {\n-            exception.dump(file);\n-        }\n-        file.writeShort(this.attributes.length);\n-        for (final Attribute attribute : this.attributes) {\n-            attribute.dump(file);\n+        code.setConstantPool(constantPool);\n+        Arrays.setAll(code.exceptionTable = new CodeException[this.exceptionTable.length], n2 -> this.exceptionTable[n2].copy());\n+        Arrays.setAll(code.attributes = new Attribute[this.attributes.length], n4 -> this.attributes[n4].copy(constantPool2));\n+        return code;\n+    }\n+    \n+    public void dump(final DataOutputStream dataOutputStream) throws IOException {\n+        super.dump(dataOutputStream);\n+        dataOutputStream.writeShort(this.maxStack);\n+        dataOutputStream.writeShort(this.maxLocals);\n+        dataOutputStream.writeInt(this.code.length);\n+        dataOutputStream.write(this.code, 0, this.code.length);\n+        dataOutputStream.writeShort(this.exceptionTable.length);\n+        final CodeException[] exceptionTable = this.exceptionTable;\n+        for (int length = exceptionTable.length, i = 0; i < length; ++i) {\n+            exceptionTable[i].dump(dataOutputStream);\n+        }\n+        dataOutputStream.writeShort(this.attributes.length);\n+        final Attribute[] attributes = this.attributes;\n+        for (int length2 = attributes.length, j = 0; j < length2; ++j) {\n+            attributes[j].dump(dataOutputStream);\n         }\n     }\n     \n     public Attribute[] getAttributes() {\n         return this.attributes;\n     }\n     \n@@ -125,26 +127,26 @@\n         return this.maxLocals;\n     }\n     \n     public int getMaxStack() {\n         return this.maxStack;\n     }\n     \n-    public void setAttributes(final Attribute[] attributes) {\n-        this.attributes = ((attributes != null) ? attributes : Code.EMPTY_ARRAY);\n+    public void setAttributes(final Attribute[] array) {\n+        this.attributes = ((array != null) ? array : Code.EMPTY_ARRAY);\n         super.setLength(this.calculateLength());\n     }\n     \n-    public void setCode(final byte[] code) {\n-        this.code = ((code != null) ? code : ArrayUtils.EMPTY_BYTE_ARRAY);\n+    public void setCode(final byte[] array) {\n+        this.code = ((array != null) ? array : ArrayUtils.EMPTY_BYTE_ARRAY);\n         super.setLength(this.calculateLength());\n     }\n     \n-    public void setExceptionTable(final CodeException[] exceptionTable) {\n-        this.exceptionTable = ((exceptionTable != null) ? exceptionTable : CodeException.EMPTY_CODE_EXCEPTION_ARRAY);\n+    public void setExceptionTable(final CodeException[] array) {\n+        this.exceptionTable = ((array != null) ? array : CodeException.EMPTY_CODE_EXCEPTION_ARRAY);\n         super.setLength(this.calculateLength());\n     }\n     \n     public void setMaxLocals(final int maxLocals) {\n         this.maxLocals = maxLocals;\n     }\n     \n@@ -152,26 +154,27 @@\n         this.maxStack = maxStack;\n     }\n     \n     public String toString() {\n         return this.toString(true);\n     }\n     \n-    public String toString(final boolean verbose) {\n-        final StringBuilder buf = new StringBuilder(100);\n-        buf.append(\"Code(maxStack = \").append(this.maxStack).append(\", maxLocals = \").append(this.maxLocals).append(\", code_length = \").append(this.code.length).append(\")\\n\").append(Utility.codeToString(this.code, super.getConstantPool(), 0, -1, verbose));\n+    public String toString(final boolean b) {\n+        final StringBuilder sb = new StringBuilder(100);\n+        sb.append(\"Code(maxStack = \").append(this.maxStack).append(\", maxLocals = \").append(this.maxLocals).append(\", code_length = \").append(this.code.length).append(\")\\n\").append(Utility.codeToString(this.code, super.getConstantPool(), 0, -1, b));\n         if (this.exceptionTable.length > 0) {\n-            buf.append(\"\\nException handler(s) = \\n\").append(\"From\\tTo\\tHandler\\tType\\n\");\n-            for (final CodeException exception : this.exceptionTable) {\n-                buf.append(exception.toString(super.getConstantPool(), verbose)).append(\"\\n\");\n+            sb.append(\"\\nException handler(s) = \\n\").append(\"From\\tTo\\tHandler\\tType\\n\");\n+            final CodeException[] exceptionTable = this.exceptionTable;\n+            for (int length = exceptionTable.length, i = 0; i < length; ++i) {\n+                sb.append(exceptionTable[i].toString(super.getConstantPool(), b)).append(\"\\n\");\n             }\n         }\n         if (this.attributes.length > 0) {\n-            buf.append(\"\\nAttribute(s) = \");\n-            for (final Attribute attribute : this.attributes) {\n-                buf.append(\"\\n\").append(attribute.getName()).append(\":\");\n-                buf.append(\"\\n\").append(attribute);\n+            sb.append(\"\\nAttribute(s) = \");\n+            for (final Attribute obj : this.attributes) {\n+                sb.append(\"\\n\").append(obj.getName()).append(\":\");\n+                sb.append(\"\\n\").append(obj);\n             }\n         }\n-        return buf.toString();\n+        return sb.toString();\n     }\n }\n"}]}
