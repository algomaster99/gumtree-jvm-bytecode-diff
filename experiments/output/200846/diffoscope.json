{"diffoscope-json-version": 1, "source1": "first/VerifierAppFrame.class", "source2": "second/VerifierAppFrame.class", "unified_diff": null, "details": [{"source1": "procyon -ec {}", "source2": "procyon -ec {}", "unified_diff": "@@ -1,14 +1,14 @@\n \n package org.apache.bcel.verifier;\n \n+import org.apache.bcel.classfile.JavaClass;\n import java.util.Arrays;\n import org.apache.commons.lang3.ArrayUtils;\n import java.awt.event.WindowEvent;\n-import org.apache.bcel.classfile.JavaClass;\n import org.apache.bcel.Repository;\n import javax.swing.KeyStroke;\n import javax.swing.BorderFactory;\n import java.awt.Color;\n import java.awt.Dimension;\n import java.awt.LayoutManager;\n import javax.swing.event.ListSelectionEvent;\n@@ -104,16 +104,16 @@\n         this.jMenu2 = new JMenu();\n         this.whatisMenuItem = new JMenuItem();\n         this.aboutMenuItem = new JMenuItem();\n         this.enableEvents(64L);\n         try {\n             this.jbInit();\n         }\n-        catch (final Exception e) {\n-            e.printStackTrace();\n+        catch (final Exception ex) {\n+            ex.printStackTrace();\n         }\n     }\n     \n     void aboutMenuItem_actionPerformed(final ActionEvent e) {\n         JOptionPane.showMessageDialog(this, \"Apache Commons BCEL\\nhttps://commons.apache.org/bcel\\n\", \"Apache Commons BCEL\", 1);\n     }\n     \n@@ -214,140 +214,136 @@\n         this.jMenu2.add(this.aboutMenuItem);\n         this.jSplitPane2.setDividerLocation(300);\n         this.jSplitPane3.setDividerLocation(150);\n         this.jSplitPane4.setDividerLocation(150);\n     }\n     \n     void newFileMenuItem_actionPerformed(final ActionEvent e) {\n-        final String className = JOptionPane.showInputDialog(\"Please enter the fully qualified name of a class or interface to verify:\");\n-        if (className == null || className.isEmpty()) {\n+        final String showInputDialog = JOptionPane.showInputDialog(\"Please enter the fully qualified name of a class or interface to verify:\");\n+        if (showInputDialog == null || showInputDialog.isEmpty()) {\n             return;\n         }\n-        VerifierFactory.getVerifier(className);\n-        this.classNamesJList.setSelectedValue(className, true);\n+        VerifierFactory.getVerifier(showInputDialog);\n+        this.classNamesJList.setSelectedValue(showInputDialog, true);\n     }\n     \n     synchronized void pass3aJList_valueChanged(final ListSelectionEvent e) {\n         if (e.getValueIsAdjusting()) {\n             return;\n         }\n-        final Verifier v = VerifierFactory.getVerifier(this.currentClass);\n-        final StringBuilder all3amsg = new StringBuilder();\n-        boolean all3aok = true;\n-        boolean rejected = false;\n+        final Verifier verifier = VerifierFactory.getVerifier(this.currentClass);\n+        final StringBuilder sb = new StringBuilder();\n+        boolean b = true;\n+        boolean b2 = false;\n         for (int i = 0; i < this.pass3aJList.getModel().getSize(); ++i) {\n             if (this.pass3aJList.isSelectedIndex(i)) {\n-                final VerificationResult vr = v.doPass3a(i);\n-                if (vr.getStatus() == 2) {\n-                    all3aok = false;\n-                    rejected = true;\n+                final VerificationResult doPass3a = verifier.doPass3a(i);\n+                if (doPass3a.getStatus() == 2) {\n+                    b = false;\n+                    b2 = true;\n                 }\n-                JavaClass jc = null;\n                 try {\n-                    jc = Repository.lookupClass(v.getClassName());\n-                    all3amsg.append(\"Method '\").append(jc.getMethods()[i]).append(\"': \").append(vr.getMessage().replace('\\n', ' ')).append(\"\\n\\n\");\n+                    sb.append(\"Method '\").append(Repository.lookupClass(verifier.getClassName()).getMethods()[i]).append(\"': \").append(doPass3a.getMessage().replace('\\n', ' ')).append(\"\\n\\n\");\n                 }\n                 catch (final ClassNotFoundException ex) {\n                     ex.printStackTrace();\n                 }\n             }\n         }\n-        this.pass3aTextPane.setText(all3amsg.toString());\n-        this.pass3aTextPane.setBackground(all3aok ? Color.green : (rejected ? Color.red : Color.yellow));\n+        this.pass3aTextPane.setText(sb.toString());\n+        this.pass3aTextPane.setBackground(b ? Color.green : (b2 ? Color.red : Color.yellow));\n     }\n     \n     synchronized void pass3bJList_valueChanged(final ListSelectionEvent e) {\n         if (e.getValueIsAdjusting()) {\n             return;\n         }\n-        final Verifier v = VerifierFactory.getVerifier(this.currentClass);\n-        final StringBuilder all3bmsg = new StringBuilder();\n-        boolean all3bok = true;\n-        boolean rejected = false;\n+        final Verifier verifier = VerifierFactory.getVerifier(this.currentClass);\n+        final StringBuilder sb = new StringBuilder();\n+        boolean b = true;\n+        boolean b2 = false;\n         for (int i = 0; i < this.pass3bJList.getModel().getSize(); ++i) {\n             if (this.pass3bJList.isSelectedIndex(i)) {\n-                final VerificationResult vr = v.doPass3b(i);\n-                if (vr.getStatus() == 2) {\n-                    all3bok = false;\n-                    rejected = true;\n+                final VerificationResult doPass3b = verifier.doPass3b(i);\n+                if (doPass3b.getStatus() == 2) {\n+                    b = false;\n+                    b2 = true;\n                 }\n-                JavaClass jc = null;\n                 try {\n-                    jc = Repository.lookupClass(v.getClassName());\n-                    all3bmsg.append(\"Method '\").append(jc.getMethods()[i]).append(\"': \").append(vr.getMessage().replace('\\n', ' ')).append(\"\\n\\n\");\n+                    sb.append(\"Method '\").append(Repository.lookupClass(verifier.getClassName()).getMethods()[i]).append(\"': \").append(doPass3b.getMessage().replace('\\n', ' ')).append(\"\\n\\n\");\n                 }\n                 catch (final ClassNotFoundException ex) {\n                     ex.printStackTrace();\n                 }\n             }\n         }\n-        this.pass3bTextPane.setText(all3bmsg.toString());\n-        this.pass3bTextPane.setBackground(all3bok ? Color.green : (rejected ? Color.red : Color.yellow));\n+        this.pass3bTextPane.setText(sb.toString());\n+        this.pass3bTextPane.setBackground(b ? Color.green : (b2 ? Color.red : Color.yellow));\n     }\n     \n     @Override\n     protected void processWindowEvent(final WindowEvent e) {\n         super.processWindowEvent(e);\n         if (e.getID() == 201) {\n             System.exit(0);\n         }\n     }\n     \n     private void verify() throws ClassNotFoundException {\n         this.setTitle(\"PLEASE WAIT\");\n-        final Verifier v = VerifierFactory.getVerifier(this.currentClass);\n-        v.flush();\n-        VerificationResult vr = v.doPass1();\n-        if (vr.getStatus() == 2) {\n-            this.pass1TextPane.setText(vr.getMessage());\n+        final Verifier verifier = VerifierFactory.getVerifier(this.currentClass);\n+        verifier.flush();\n+        final VerificationResult doPass1 = verifier.doPass1();\n+        if (doPass1.getStatus() == 2) {\n+            this.pass1TextPane.setText(doPass1.getMessage());\n             this.pass1TextPane.setBackground(Color.red);\n             this.pass2TextPane.setText(\"\");\n             this.pass2TextPane.setBackground(Color.yellow);\n             this.pass3aTextPane.setText(\"\");\n             this.pass3aJList.setListData(ArrayUtils.EMPTY_STRING_ARRAY);\n             this.pass3aTextPane.setBackground(Color.yellow);\n             this.pass3bTextPane.setText(\"\");\n             this.pass3bJList.setListData(ArrayUtils.EMPTY_STRING_ARRAY);\n             this.pass3bTextPane.setBackground(Color.yellow);\n         }\n         else {\n             this.pass1TextPane.setBackground(Color.green);\n-            this.pass1TextPane.setText(vr.getMessage());\n-            vr = v.doPass2();\n-            if (vr.getStatus() == 2) {\n-                this.pass2TextPane.setText(vr.getMessage());\n+            this.pass1TextPane.setText(doPass1.getMessage());\n+            final VerificationResult doPass2 = verifier.doPass2();\n+            if (doPass2.getStatus() == 2) {\n+                this.pass2TextPane.setText(doPass2.getMessage());\n                 this.pass2TextPane.setBackground(Color.red);\n                 this.pass3aTextPane.setText(\"\");\n                 this.pass3aTextPane.setBackground(Color.yellow);\n                 this.pass3aJList.setListData(ArrayUtils.EMPTY_STRING_ARRAY);\n                 this.pass3bTextPane.setText(\"\");\n                 this.pass3bTextPane.setBackground(Color.yellow);\n                 this.pass3bJList.setListData(ArrayUtils.EMPTY_STRING_ARRAY);\n             }\n             else {\n-                this.pass2TextPane.setText(vr.getMessage());\n+                this.pass2TextPane.setText(doPass2.getMessage());\n                 this.pass2TextPane.setBackground(Color.green);\n-                final JavaClass jc = Repository.lookupClass(this.currentClass);\n-                final String[] methodNames = new String[jc.getMethods().length];\n+                final JavaClass lookupClass = Repository.lookupClass(this.currentClass);\n+                final String[] listData = new String[lookupClass.getMethods().length];\n                 final int i;\n-                Arrays.setAll(methodNames, i -> jc.getMethods()[i].toString().replace('\\n', ' ').replace('\\t', ' '));\n-                this.pass3aJList.setListData(methodNames);\n-                this.pass3aJList.setSelectionInterval(0, jc.getMethods().length - 1);\n-                this.pass3bJList.setListData(methodNames);\n-                this.pass3bJList.setSelectionInterval(0, jc.getMethods().length - 1);\n+                Arrays.setAll(listData, i -> jc.getMethods()[i].toString().replace('\\n', ' ').replace('\\t', ' '));\n+                this.pass3aJList.setListData(listData);\n+                this.pass3aJList.setSelectionInterval(0, lookupClass.getMethods().length - 1);\n+                this.pass3bJList.setListData(listData);\n+                this.pass3bJList.setSelectionInterval(0, lookupClass.getMethods().length - 1);\n             }\n         }\n-        final String[] msgs = v.getMessages();\n-        this.messagesTextPane.setBackground((msgs.length == 0) ? Color.green : Color.yellow);\n-        final StringBuilder allmsgs = new StringBuilder();\n-        for (int i = 0; i < msgs.length; ++i) {\n-            msgs[i] = msgs[i].replace('\\n', ' ');\n-            allmsgs.append(msgs[i]).append(\"\\n\\n\");\n+        final String[] messages = verifier.getMessages();\n+        this.messagesTextPane.setBackground((messages.length == 0) ? Color.green : Color.yellow);\n+        final StringBuilder sb = new StringBuilder();\n+        for (int i = 0; i < messages.length; ++i) {\n+            messages[i] = messages[i].replace('\\n', ' ');\n+            sb.append(messages[i]).append(\"\\n\\n\");\n         }\n-        this.messagesTextPane.setText(allmsgs.toString());\n+        this.messagesTextPane.setText(sb.toString());\n         this.setTitle(this.currentClass + \" - \" + \"Apache Commons BCEL\");\n     }\n     \n     void whatisMenuItem_actionPerformed(final ActionEvent e) {\n         JOptionPane.showMessageDialog(this, \"The upper four boxes to the right reflect verification passes according to The Java Virtual Machine Specification.\\nThese are (in that order): Pass one, Pass two, Pass three (before data flow analysis), Pass three (data flow analysis).\\nThe bottom box to the right shows (warning) messages; warnings do not cause a class to be rejected.\", \"Apache Commons BCEL\", 1);\n     }\n }\n"}]}
