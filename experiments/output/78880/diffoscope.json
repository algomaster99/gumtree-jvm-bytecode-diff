{"diffoscope-json-version": 1, "source1": "first/FTPTimestampParserImpl.class", "source2": "second/FTPTimestampParserImpl.class", "unified_diff": null, "details": [{"source1": "procyon -ec {}", "source2": "procyon -ec {}", "unified_diff": "@@ -16,21 +16,27 @@\n     private SimpleDateFormat defaultDateFormat;\n     private int defaultDateSmallestUnitIndex;\n     private SimpleDateFormat recentDateFormat;\n     private int recentDateSmallestUnitIndex;\n     private boolean lenientFutureDates;\n     private static final int[] CALENDAR_UNITS;\n     \n+    static {\n+        CALENDAR_UNITS = new int[] { 14, 13, 12, 11, 5, 2, 1 };\n+    }\n+    \n     private static int getEntry(final SimpleDateFormat dateFormat) {\n         if (dateFormat == null) {\n             return 0;\n         }\n         final String FORMAT_CHARS = \"SsmHdM\";\n         final String pattern = dateFormat.toPattern();\n-        for (final char ch : \"SsmHdM\".toCharArray()) {\n+        char[] charArray;\n+        for (int length = (charArray = \"SsmHdM\".toCharArray()).length, i = 0; i < length; ++i) {\n+            final char ch = charArray[i];\n             if (pattern.indexOf(ch) != -1) {\n                 switch (ch) {\n                     case 'S': {\n                         return indexOf(14);\n                     }\n                     case 's': {\n                         return indexOf(13);\n@@ -91,16 +97,16 @@\n         if (this.recentDateFormat != null) {\n             final Calendar now = (Calendar)serverTime.clone();\n             now.setTimeZone(this.getServerTimeZone());\n             if (this.lenientFutureDates) {\n                 now.add(5, 1);\n             }\n             final String year = Integer.toString(now.get(1));\n-            final String timeStampStrPlusYear = timestampStr + \" \" + year;\n-            final SimpleDateFormat hackFormatter = new SimpleDateFormat(this.recentDateFormat.toPattern() + \" yyyy\", this.recentDateFormat.getDateFormatSymbols());\n+            final String timeStampStrPlusYear = String.valueOf(timestampStr) + \" \" + year;\n+            final SimpleDateFormat hackFormatter = new SimpleDateFormat(String.valueOf(this.recentDateFormat.toPattern()) + \" yyyy\", this.recentDateFormat.getDateFormatSymbols());\n             hackFormatter.setLenient(false);\n             hackFormatter.setTimeZone(this.recentDateFormat.getTimeZone());\n             final ParsePosition pp = new ParsePosition(0);\n             parsed = hackFormatter.parse(timeStampStrPlusYear, pp);\n             if (parsed != null && pp.getIndex() == timeStampStrPlusYear.length()) {\n                 working.setTime(parsed);\n                 if (working.after(now)) {\n@@ -214,12 +220,8 @@\n     boolean isLenientFutureDates() {\n         return this.lenientFutureDates;\n     }\n     \n     void setLenientFutureDates(final boolean lenientFutureDates) {\n         this.lenientFutureDates = lenientFutureDates;\n     }\n-    \n-    static {\n-        CALENDAR_UNITS = new int[] { 14, 13, 12, 11, 5, 2, 1 };\n-    }\n }\n"}]}
