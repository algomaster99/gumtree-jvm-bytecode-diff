{"diffoscope-json-version": 1, "source1": "first/FramedSnappyCompressorOutputStream.class", "source2": "second/FramedSnappyCompressorOutputStream.class", "unified_diff": null, "details": [{"source1": "procyon -ec {}", "source2": "procyon -ec {}", "unified_diff": "@@ -43,27 +43,49 @@\n     public void close() throws IOException {\n         try {\n             this.finish();\n         }\n         finally {\n             this.out.close();\n         }\n+        this.out.close();\n     }\n     \n     public void finish() throws IOException {\n         if (this.currentIndex > 0) {\n             this.flushBuffer();\n         }\n     }\n     \n     private void flushBuffer() throws IOException {\n         this.out.write(0);\n         final ByteArrayOutputStream baos = new ByteArrayOutputStream();\n-        try (final OutputStream o = (OutputStream)new SnappyCompressorOutputStream((OutputStream)baos, (long)this.currentIndex, this.params)) {\n-            o.write(this.buffer, 0, this.currentIndex);\n+        Throwable t = null;\n+        try {\n+            final OutputStream o = (OutputStream)new SnappyCompressorOutputStream((OutputStream)baos, (long)this.currentIndex, this.params);\n+            try {\n+                o.write(this.buffer, 0, this.currentIndex);\n+            }\n+            finally {\n+                if (o != null) {\n+                    o.close();\n+                }\n+            }\n+        }\n+        finally {\n+            if (t == null) {\n+                final Throwable exception;\n+                t = exception;\n+            }\n+            else {\n+                final Throwable exception;\n+                if (t != exception) {\n+                    t.addSuppressed(exception);\n+                }\n+            }\n         }\n         final byte[] b = baos.toByteArray();\n         this.writeLittleEndian(3, (long)b.length + 4L);\n         this.writeCrc();\n         this.out.write(b);\n         this.currentIndex = 0;\n     }\n"}]}
