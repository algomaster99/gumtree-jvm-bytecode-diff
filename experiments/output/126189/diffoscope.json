{"diffoscope-json-version": 1, "source1": "first/OsgiUtils.class", "source2": "second/OsgiUtils.class", "unified_diff": null, "details": [{"source1": "procyon -ec {}", "source2": "procyon -ec {}", "unified_diff": "@@ -1,30 +1,32 @@\n \n package org.apache.commons.compress.utils;\n \n public class OsgiUtils\n {\n     private static final boolean inOsgiEnvironment;\n     \n+    static {\n+        final Class<?> classloaderClass = OsgiUtils.class.getClassLoader().getClass();\n+        inOsgiEnvironment = isBundleReference(classloaderClass);\n+    }\n+    \n     private static boolean isBundleReference(final Class<?> clazz) {\n         for (Class<?> c = clazz; c != null; c = c.getSuperclass()) {\n             if (c.getName().equals(\"org.osgi.framework.BundleReference\")) {\n                 return true;\n             }\n-            for (final Class<?> ifc : c.getInterfaces()) {\n+            Class<?>[] interfaces;\n+            for (int length = (interfaces = c.getInterfaces()).length, i = 0; i < length; ++i) {\n+                final Class<?> ifc = interfaces[i];\n                 if (isBundleReference(ifc)) {\n                     return true;\n                 }\n             }\n         }\n         return false;\n     }\n     \n     public static boolean isRunningInOsgiEnvironment() {\n         return OsgiUtils.inOsgiEnvironment;\n     }\n-    \n-    static {\n-        final Class<?> classloaderClass = OsgiUtils.class.getClassLoader().getClass();\n-        inOsgiEnvironment = isBundleReference(classloaderClass);\n-    }\n }\n"}]}
