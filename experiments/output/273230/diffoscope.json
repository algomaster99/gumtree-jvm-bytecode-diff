{"diffoscope-json-version": 1, "source1": "first/ViolationMessagesMacro.class", "source2": "second/ViolationMessagesMacro.class", "unified_diff": null, "details": [{"source1": "procyon -ec {}", "source2": "procyon -ec {}", "unified_diff": "@@ -10,53 +10,51 @@\n import org.apache.maven.doxia.macro.Macro;\n import org.codehaus.plexus.component.annotations.Component;\n import org.apache.maven.doxia.macro.AbstractMacro;\n \n @Component(role = Macro.class, hint = \"violation-messages\")\n public class ViolationMessagesMacro extends AbstractMacro\n {\n-    public void execute(final Sink sink, final MacroRequest request) throws MacroExecutionException {\n+    public void execute(final Sink sink, final MacroRequest macroRequest) throws MacroExecutionException {\n         if (!(sink instanceof XdocSink)) {\n             throw new MacroExecutionException(\"Expected Sink to be an XdocSink.\");\n         }\n-        final String checkName = (String)request.getParameter(\"checkName\");\n-        final Object instance = SiteUtil.getModuleInstance(checkName);\n-        final Class<?> clss = instance.getClass();\n-        final Set<String> messageKeys = SiteUtil.getMessageKeys((Class)clss);\n-        createListOfMessages((XdocSink)sink, clss, messageKeys);\n+        final Class<?> class1 = SiteUtil.getModuleInstance((String)macroRequest.getParameter(\"checkName\")).getClass();\n+        createListOfMessages(sink, class1, (Set<String>)SiteUtil.getMessageKeys((Class)class1));\n     }\n     \n-    private static void createListOfMessages(final XdocSink sink, final Class<?> clss, final Set<String> messageKeys) {\n-        final String indentLevel8 = SiteUtil.getNewlineAndIndentSpaces(8);\n-        sink.setInsertNewline(false);\n-        sink.list();\n-        sink.setInsertNewline(true);\n-        for (final String messageKey : messageKeys) {\n-            createListItem(sink, clss, messageKey);\n+    private static void createListOfMessages(final XdocSink xdocSink, final Class<?> clazz, final Set<String> set) {\n+        final String newlineAndIndentSpaces = SiteUtil.getNewlineAndIndentSpaces(8);\n+        xdocSink.setInsertNewline(false);\n+        xdocSink.list();\n+        xdocSink.setInsertNewline(true);\n+        final Iterator<String> iterator = set.iterator();\n+        while (iterator.hasNext()) {\n+            createListItem(xdocSink, clazz, iterator.next());\n         }\n-        sink.rawText(indentLevel8);\n-        sink.list_();\n+        xdocSink.rawText(newlineAndIndentSpaces);\n+        xdocSink.list_();\n     }\n     \n-    private static void createListItem(final XdocSink sink, final Class<?> clss, final String messageKey) {\n-        final String messageKeyUrl = constructMessageKeyUrl(clss, messageKey);\n-        final String indentLevel10 = SiteUtil.getNewlineAndIndentSpaces(10);\n-        final String indentLevel11 = SiteUtil.getNewlineAndIndentSpaces(12);\n-        final String indentLevel12 = SiteUtil.getNewlineAndIndentSpaces(14);\n-        sink.rawText(indentLevel10);\n-        sink.setInsertNewline(false);\n-        sink.listItem();\n-        sink.setInsertNewline(true);\n-        sink.rawText(indentLevel11);\n-        sink.link(messageKeyUrl);\n-        sink.rawText(indentLevel12);\n-        sink.rawText(messageKey);\n-        sink.rawText(indentLevel11);\n-        sink.link_();\n-        sink.rawText(indentLevel10);\n-        sink.listItem_();\n+    private static void createListItem(final XdocSink xdocSink, final Class<?> clazz, final String s) {\n+        final String constructMessageKeyUrl = constructMessageKeyUrl(clazz, s);\n+        final String newlineAndIndentSpaces = SiteUtil.getNewlineAndIndentSpaces(10);\n+        final String newlineAndIndentSpaces2 = SiteUtil.getNewlineAndIndentSpaces(12);\n+        final String newlineAndIndentSpaces3 = SiteUtil.getNewlineAndIndentSpaces(14);\n+        xdocSink.rawText(newlineAndIndentSpaces);\n+        xdocSink.setInsertNewline(false);\n+        xdocSink.listItem();\n+        xdocSink.setInsertNewline(true);\n+        xdocSink.rawText(newlineAndIndentSpaces2);\n+        xdocSink.link(constructMessageKeyUrl);\n+        xdocSink.rawText(newlineAndIndentSpaces3);\n+        xdocSink.rawText(s);\n+        xdocSink.rawText(newlineAndIndentSpaces2);\n+        xdocSink.link_();\n+        xdocSink.rawText(newlineAndIndentSpaces);\n+        xdocSink.listItem_();\n     }\n     \n-    private static String constructMessageKeyUrl(final Class<?> clss, final String messageKey) {\n-        return \"https://github.com/search?q=path%3Asrc%2Fmain%2Fresources%2F\" + clss.getPackage().getName().replace((CharSequence)\".\", (CharSequence)\"%2F\") + \"%20path%3A**%2Fmessages*.properties+repo%3Acheckstyle%2Fcheckstyle+%22\" + messageKey + \"%22\";\n+    private static String constructMessageKeyUrl(final Class<?> clazz, final String s) {\n+        return \"https://github.com/search?q=path%3Asrc%2Fmain%2Fresources%2F\" + clazz.getPackage().getName().replace((CharSequence)\".\", (CharSequence)\"%2F\") + \"%20path%3A**%2Fmessages*.properties+repo%3Acheckstyle%2Fcheckstyle+%22\" + s + \"%22\";\n     }\n }\n"}]}
