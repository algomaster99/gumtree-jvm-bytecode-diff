{"diffoscope-json-version": 1, "source1": "first/MacOsPeterFTPEntryParser.class", "source2": "second/MacOsPeterFTPEntryParser.class", "unified_diff": null, "details": [{"source1": "procyon -ec {}", "source2": "procyon -ec {}", "unified_diff": "@@ -11,104 +11,103 @@\n     static final String DEFAULT_RECENT_DATE_FORMAT = \"MMM d HH:mm\";\n     private static final String REGEX = \"([bcdelfmpSs-])(((r|-)(w|-)([xsStTL-]))((r|-)(w|-)([xsStTL-]))((r|-)(w|-)([xsStTL-])))\\\\+?\\\\s+((folder\\\\s+)|((\\\\d+)\\\\s+(\\\\d+)\\\\s+))(\\\\d+)\\\\s+((?:\\\\d+[-/]\\\\d+[-/]\\\\d+)|(?:\\\\S{3}\\\\s+\\\\d{1,2})|(?:\\\\d{1,2}\\\\s+\\\\S{3}))\\\\s+(\\\\d+(?::\\\\d+)?)\\\\s+(\\\\S*)(\\\\s*.*)\";\n     \n     public MacOsPeterFTPEntryParser() {\n         this(null);\n     }\n     \n-    public MacOsPeterFTPEntryParser(final FTPClientConfig config) {\n+    public MacOsPeterFTPEntryParser(final FTPClientConfig ftpClientConfig) {\n         super(\"([bcdelfmpSs-])(((r|-)(w|-)([xsStTL-]))((r|-)(w|-)([xsStTL-]))((r|-)(w|-)([xsStTL-])))\\\\+?\\\\s+((folder\\\\s+)|((\\\\d+)\\\\s+(\\\\d+)\\\\s+))(\\\\d+)\\\\s+((?:\\\\d+[-/]\\\\d+[-/]\\\\d+)|(?:\\\\S{3}\\\\s+\\\\d{1,2})|(?:\\\\d{1,2}\\\\s+\\\\S{3}))\\\\s+(\\\\d+(?::\\\\d+)?)\\\\s+(\\\\S*)(\\\\s*.*)\");\n-        this.configure(config);\n+        this.configure(ftpClientConfig);\n     }\n     \n     protected FTPClientConfig getDefaultConfiguration() {\n         return new FTPClientConfig(\"UNIX\", \"MMM d yyyy\", \"MMM d HH:mm\");\n     }\n     \n-    public FTPFile parseFTPEntry(final String entry) {\n-        final FTPFile file = new FTPFile();\n-        file.setRawListing(entry);\n-        boolean isDevice = false;\n-        if (this.matches(entry)) {\n-            final String typeStr = this.group(1);\n-            final String hardLinkCount = \"0\";\n-            final String filesize = this.group(20);\n-            final String datestr = this.group(21) + \" \" + this.group(22);\n-            String name = this.group(23);\n-            final String endtoken = this.group(24);\n+    public FTPFile parseFTPEntry(final String rawListing) {\n+        final FTPFile ftpFile = new FTPFile();\n+        ftpFile.setRawListing(rawListing);\n+        boolean b = false;\n+        if (this.matches(rawListing)) {\n+            final String group = this.group(1);\n+            final String group2 = this.group(20);\n+            final String string = this.group(21) + \" \" + this.group(22);\n+            final String group3 = this.group(23);\n+            final String group4 = this.group(24);\n             try {\n-                file.setTimestamp(super.parseTimestamp(datestr));\n+                ftpFile.setTimestamp(super.parseTimestamp(string));\n             }\n             catch (final ParseException ex) {}\n             int type = 0;\n-            switch (typeStr.charAt(0)) {\n+            switch (group.charAt(0)) {\n                 case 'd': {\n                     type = 1;\n                     break;\n                 }\n                 case 'e': {\n                     type = 2;\n                     break;\n                 }\n                 case 'l': {\n                     type = 2;\n                     break;\n                 }\n                 case 'b':\n                 case 'c': {\n-                    isDevice = true;\n+                    b = true;\n                     type = 0;\n                     break;\n                 }\n                 case '-':\n                 case 'f': {\n                     type = 0;\n                     break;\n                 }\n                 default: {\n                     type = 3;\n                     break;\n                 }\n             }\n-            file.setType(type);\n-            for (int g = 4, access = 0; access < 3; ++access, g += 4) {\n-                file.setPermission(access, 0, !this.group(g).equals(\"-\"));\n-                file.setPermission(access, 1, !this.group(g + 1).equals(\"-\"));\n-                final String execPerm = this.group(g + 2);\n-                file.setPermission(access, 2, !execPerm.equals(\"-\") && !Character.isUpperCase(execPerm.charAt(0)));\n+            ftpFile.setType(type);\n+            for (int n = 4, i = 0; i < 3; ++i, n += 4) {\n+                ftpFile.setPermission(i, 0, !this.group(n).equals(\"-\"));\n+                ftpFile.setPermission(i, 1, !this.group(n + 1).equals(\"-\"));\n+                final String group5 = this.group(n + 2);\n+                ftpFile.setPermission(i, 2, !group5.equals(\"-\") && !Character.isUpperCase(group5.charAt(0)));\n             }\n-            if (!isDevice) {\n+            if (!b) {\n                 try {\n-                    file.setHardLinkCount(Integer.parseInt(\"0\"));\n+                    ftpFile.setHardLinkCount(Integer.parseInt(\"0\"));\n                 }\n                 catch (final NumberFormatException ex2) {}\n             }\n-            file.setUser((String)null);\n-            file.setGroup((String)null);\n+            ftpFile.setUser((String)null);\n+            ftpFile.setGroup((String)null);\n             try {\n-                file.setSize(Long.parseLong(filesize));\n+                ftpFile.setSize(Long.parseLong(group2));\n             }\n             catch (final NumberFormatException ex3) {}\n-            if (null == endtoken) {\n-                file.setName(name);\n+            if (null == group4) {\n+                ftpFile.setName(group3);\n             }\n             else {\n-                name += endtoken;\n+                final String string2 = group3 + group4;\n                 if (type == 2) {\n-                    final int end = name.indexOf(\" -> \");\n-                    if (end == -1) {\n-                        file.setName(name);\n+                    final int index = string2.indexOf(\" -> \");\n+                    if (index == -1) {\n+                        ftpFile.setName(string2);\n                     }\n                     else {\n-                        file.setName(name.substring(0, end));\n-                        file.setLink(name.substring(end + 4));\n+                        ftpFile.setName(string2.substring(0, index));\n+                        ftpFile.setLink(string2.substring(index + 4));\n                     }\n                 }\n                 else {\n-                    file.setName(name);\n+                    ftpFile.setName(string2);\n                 }\n             }\n-            return file;\n+            return ftpFile;\n         }\n         return null;\n     }\n }\n"}]}
